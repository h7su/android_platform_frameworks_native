{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "21afad0f_ed4d9544",
        "filename": "libs/binder/trusty/RpcServerTrusty.cpp",
        "patchSetId": 4
      },
      "lineNbr": 94,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-01-25T23:55:39Z",
      "side": 1,
      "message": "Should this be documented in the header or should the client be in charge of the dup? The current change requires there to be a dupe, but it may not always be necessary.\n\nnit: Should we use a type that conveys ownership?",
      "range": {
        "startLine": 94,
        "startChar": 67,
        "endLine": 94,
        "endChar": 71
      },
      "revId": "4af92ac7c3ffd54d57ca5a231c940d777bfd6c73",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90bfc12b_d5f105c8",
        "filename": "libs/binder/trusty/RpcServerTrusty.cpp",
        "patchSetId": 4
      },
      "lineNbr": 94,
      "author": {
        "id": 1809582
      },
      "writtenOn": "2023-01-26T00:20:42Z",
      "side": 1,
      "message": "The behavior is documented at https://android.googlesource.com/trusty/lib/+/refs/heads/master/lib/tipc/include/lib/tipc/tipc_srv.h#124 and later on line 135: the tipc library is always responsible for closing `chan`. We need to wrap that handle in a `RpcTransportFd`, so I think we always have to either dupe it, or pass it to a non-closing `unique_fd`.\n\n\u003e Should we use a type that conveys ownership?\n\nThe signature of `handleConnect` comes from `tipc_srv.h`, and that library has some other users. Most of those are pure C code.",
      "parentUuid": "21afad0f_ed4d9544",
      "range": {
        "startLine": 94,
        "startChar": 67,
        "endLine": 94,
        "endChar": 71
      },
      "revId": "4af92ac7c3ffd54d57ca5a231c940d777bfd6c73",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b3d8c0e_0bce58c5",
        "filename": "libs/binder/trusty/RpcServerTrusty.cpp",
        "patchSetId": 4
      },
      "lineNbr": 94,
      "author": {
        "id": 1809582
      },
      "writtenOn": "2023-01-27T23:44:47Z",
      "side": 1,
      "message": "Anything I should do here?",
      "parentUuid": "90bfc12b_d5f105c8",
      "range": {
        "startLine": 94,
        "startChar": 67,
        "endLine": 94,
        "endChar": 71
      },
      "revId": "4af92ac7c3ffd54d57ca5a231c940d777bfd6c73",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}