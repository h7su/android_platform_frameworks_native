{
  "comments": [
    {
      "key": {
        "uuid": "c0520cac_b716c81f",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2302,
      "author": {
        "id": 1013508
      },
      "writtenOn": "2018-01-10T21:49:34Z",
      "side": 1,
      "message": "Hmm, the tree information is already inside the APK file, right?  Can we pass down a start/end range to ensure the data comes from exactly the APK itself, instead of a stream that risks the data coming from outside the APK?  (You could imagine someone feeding in a broken tree to effectively cause GmsCore to break.)\n\nAlso, how complex is the logic to have installd discover the offset of the signing block internally itself?",
      "range": {
        "startLine": 2302,
        "startChar": 31,
        "endLine": 2302,
        "endChar": 40
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4e02fe0_5932966f",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2302,
      "author": {
        "id": 1013508
      },
      "writtenOn": "2018-01-10T21:55:44Z",
      "side": 1,
      "message": "Ah, nevermind, I just re-read the design document, and I understand that the framework is building the tree separately, and the tree isn\u0027t included anywhere in the APK, can you confirm that?",
      "parentUuid": "c0520cac_b716c81f",
      "range": {
        "startLine": 2302,
        "startChar": 31,
        "endLine": 2302,
        "endChar": 40
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a7efe0b_b0ea3a66",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2302,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2018-01-10T22:02:35Z",
      "side": 1,
      "message": "Yes, that\u0027s correct.  To answer the security concern of incoming data, yes, we don\u0027t have any protection here but trust the system. But if it\u0027s compromised, upon reboot before any apps run, we will verify the root hash signature (and the cert has to match the one in /system).  The app will be removed if it does not verify.",
      "parentUuid": "d4e02fe0_5932966f",
      "range": {
        "startLine": 2302,
        "startChar": 31,
        "endLine": 2302,
        "endChar": 40
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecc6329c_9f1c02c1",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2304,
      "author": {
        "id": 1013508
      },
      "writtenOn": "2018-01-10T21:49:34Z",
      "side": 1,
      "message": "We don\u0027t use LDAPs in TODOs in the Android tree.",
      "range": {
        "startLine": 2304,
        "startChar": 12,
        "endLine": 2304,
        "endChar": 23
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce02544f_8284db30",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2304,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2018-01-10T22:02:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ecc6329c_9f1c02c1",
      "range": {
        "startLine": 2304,
        "startChar": 12,
        "endLine": 2304,
        "endChar": 23
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6b0b0ef_9b1297a4",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2306,
      "author": {
        "id": 1013508
      },
      "writtenOn": "2018-01-10T21:49:34Z",
      "side": 1,
      "message": "Per commit message, I\u0027d expect to see us checking the system property around this area?  (So we\u0027d return success when the feature isn\u0027t enabled.)",
      "range": {
        "startLine": 2306,
        "startChar": 0,
        "endLine": 2306,
        "endChar": 40
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a1e4740_cadd76a7",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2306,
      "author": {
        "id": 1013508
      },
      "writtenOn": "2018-01-10T21:55:44Z",
      "side": 1,
      "message": "Since you have a kernel locally, can you actually flesh out the ioctl() logic here?",
      "parentUuid": "d6b0b0ef_9b1297a4",
      "range": {
        "startLine": 2306,
        "startChar": 0,
        "endLine": 2306,
        "endChar": 40
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2220f2da_c81d891b",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2306,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2018-01-10T22:02:35Z",
      "side": 1,
      "message": "I only have a drafting patch but is still waiting for the kernel engineer to make it actually work.\n\nDone by returning success if the feature is not enabled.",
      "parentUuid": "d6b0b0ef_9b1297a4",
      "range": {
        "startLine": 2306,
        "startChar": 0,
        "endLine": 2306,
        "endChar": 40
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5d9a9fc_74aacaaf",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2306,
      "author": {
        "id": 1006166
      },
      "writtenOn": "2018-01-11T23:30:45Z",
      "side": 1,
      "message": "So just to confirm, per discussion in meeting yesterday, you need to merge the ioctl() logic here before IC deadline, even if the kernel isn\u0027t ready.\n\nDo you intend to have another CL with that ioctl() added before IC?",
      "parentUuid": "2220f2da_c81d891b",
      "range": {
        "startLine": 2306,
        "startChar": 0,
        "endLine": 2306,
        "endChar": 40
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18f5d01c_ee80194f",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2306,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2018-01-11T23:38:17Z",
      "side": 1,
      "message": "Yes.  I\u0027m waiting for the kernel side to be ready.  Thanks for checking.",
      "parentUuid": "c5d9a9fc_74aacaaf",
      "range": {
        "startLine": 2306,
        "startChar": 0,
        "endLine": 2306,
        "endChar": 40
      },
      "revId": "dbe22ef18f82c21b6dad1dd4cf4b637a55fbd036",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}