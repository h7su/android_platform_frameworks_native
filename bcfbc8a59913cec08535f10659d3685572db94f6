{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "36ac3b28_0103da65",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2024-01-18T20:23:27Z",
      "side": 1,
      "message": "We prefer the explicit enum where possible. It\u0027s only fairly recently that we can safely do that in a C compatible way, so most old APIs don\u0027t do that. It\u0027s required for new APIs but we don\u0027t have the time to retcon all the old stuff (and there are a few cases where the API takes a type more complicated than just the enum where it\u0027ll probably never be possible to do so).",
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "313f3b96_992d4502",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2024-01-18T20:23:27Z",
      "side": 1,
      "message": "It\u0027s a relatively new annotation. We require it for new code but no one has the time to add it to old APIs.",
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "824554cb_b6c401df",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 361,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2024-01-18T20:23:27Z",
      "side": 1,
      "message": "Hmm, this doesn\u0027t have a backing type in aosp: https://cs.android.com/android/platform/superproject/main/+/main:frameworks/native/libs/nativewindow/include/android/data_space.h;l\u003d40;drc\u003d3ad1b0d5da0a3b2b03de84efb55f2016e7942730\n\nIt does internally. I guess someone will need to cherry-pick that out before this can be merged.",
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8aad5429_5cbb39fa",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 361,
      "author": {
        "id": 1496421
      },
      "writtenOn": "2024-01-18T23:36:04Z",
      "side": 1,
      "message": "Yeah, you pointed me to https://android-review.googlesource.com/c/platform/frameworks/native/+/2902242. Should I push that in this CL, allowing it to land prematurely?",
      "parentUuid": "824554cb_b6c401df",
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a33ae68b_697ed574",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 361,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2024-01-19T00:05:30Z",
      "side": 1,
      "message": "I just merged mine. I had thought that wouldn\u0027t go smoothly, but maybe our merge systems got better about resolving obvious conflicts?",
      "parentUuid": "8aad5429_5cbb39fa",
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9ff1c78c_b2414180",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 361,
      "author": {
        "id": 1496421
      },
      "writtenOn": "2024-01-19T00:07:55Z",
      "side": 1,
      "message": "I see, looks good. Thanks!",
      "parentUuid": "a33ae68b_697ed574",
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67ddf05d_128f92a7",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2024-01-18T20:32:34Z",
      "side": 1,
      "message": "The build failure is:\n\n```\nframeworks/native/include/android/surface_control.h:65:64: error: pointer is missing a nullability type specifier (_Nonnull, _Nullable, or _Null_unspecified) [-Werror,-Wnullability-completeness]\nASurfaceControl* ASurfaceControl_createFromWindow(ANativeWindow* parent, const char* debug_name)\n                                                               ^\n```\n\nThis is one of the reasons we don\u0027t have the time to backfill: it can\u0027t be done incrementally. Clang emits a warning if a header is only partially annotated. You either have to undo these additions, or annotate the whole file (if you\u0027re up to it, my preference would be for them to be added, but in a separate CL so it doesn\u0027t block the rest, since IME these can take some time to get right).",
      "range": {
        "startLine": 385,
        "startChar": 84,
        "endLine": 385,
        "endChar": 92
      },
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d470d2b_299ab035",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 1496421
      },
      "writtenOn": "2024-01-18T23:36:04Z",
      "side": 1,
      "message": "Per the commit message it\u0027s likely a good idea to annotate all of this than to temporarily loose this annotation when replacing the C++ references with a raw pointer.",
      "parentUuid": "67ddf05d_128f92a7",
      "range": {
        "startLine": 385,
        "startChar": 84,
        "endLine": 385,
        "endChar": 92
      },
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88392260_f3bdc42f",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 1496421
      },
      "writtenOn": "2024-01-19T00:00:56Z",
      "side": 1,
      "message": "Taken care of in https://android-review.googlesource.com/c/platform/frameworks/native/+/2918226/1, which this CL now depends on.",
      "parentUuid": "3d470d2b_299ab035",
      "range": {
        "startLine": 385,
        "startChar": 84,
        "endLine": 385,
        "endChar": 92
      },
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "80c79124_df0cae23",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2024-01-19T00:03:40Z",
      "side": 1,
      "message": "Yeah, our auto-merger must have gotten better. I expected that to not go smoothly.",
      "parentUuid": "88392260_f3bdc42f",
      "range": {
        "startLine": 385,
        "startChar": 84,
        "endLine": 385,
        "endChar": 92
      },
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "52e12c90_a5a64d2c",
        "filename": "include/android/surface_control.h",
        "patchSetId": 1
      },
      "lineNbr": 385,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2024-01-19T00:05:30Z",
      "side": 1,
      "message": "(ignore that comment, wrong thread)\n\nYeah, what you did is probably the smoothest way around it.",
      "parentUuid": "80c79124_df0cae23",
      "range": {
        "startLine": 385,
        "startChar": 84,
        "endLine": 385,
        "endChar": 92
      },
      "revId": "bcfbc8a59913cec08535f10659d3685572db94f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}