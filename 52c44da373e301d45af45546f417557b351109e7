{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3898d9b7_dd4b967d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-26T19:55:38Z",
      "side": 1,
      "message": "wait, so what do we get from doing this exactly? I don\u0027t understand",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 50
      },
      "revId": "52c44da373e301d45af45546f417557b351109e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48f63070_a8dc511e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-08-26T20:00:55Z",
      "side": 1,
      "message": "The tests are autogenerated as part of the bindings.  So if anything in the code they are binding changes, if they add more bindings, or potentially if bindgen itself changes, we\u0027ll automatically have a test for that and can detect failures faster.",
      "parentUuid": "3898d9b7_dd4b967d",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 50
      },
      "revId": "52c44da373e301d45af45546f417557b351109e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "464e658f_04a3169b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-26T20:55:44Z",
      "side": 1,
      "message": "do I understand correctly, this is testing to make sure that everything still compiles, since changes to various components might be breaking? Maybe you could add this or your comment in the commit message? Makes sense.",
      "parentUuid": "48f63070_a8dc511e",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 50
      },
      "revId": "52c44da373e301d45af45546f417557b351109e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87e836a8_c3ee5105",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1208973
      },
      "writtenOn": "2021-08-26T21:05:18Z",
      "side": 1,
      "message": "Not exactly.  If something doesn\u0027t compile, TreeHugger will presumably catch that.\n\nBindgen\u0027s tests seem to test things such as whether the layout of shared structs are what it expects (since if they were not that would cause major problems).  I think it\u0027s more of an issue when using the same bindings across different architectures, which shouldn\u0027t be a problem for us, but it doesn\u0027t hurt to be safe.  https://github.com/rust-lang/rust-bindgen/issues/1823 gives an example of the sort of tests it generates.",
      "parentUuid": "464e658f_04a3169b",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 50
      },
      "revId": "52c44da373e301d45af45546f417557b351109e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97e1360f_9e4ceea8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1115178
      },
      "writtenOn": "2021-08-27T13:20:35Z",
      "side": 1,
      "message": "Yup, layout mismatches would result in undefined behavior at runtime -- the tests verify that the shared struct layouts are as expected.\n\nActual test code is only generated if there are layouts to test, which is why some of these tests don\u0027t actually test anything *right now*. In the future however, if these bindings begin to include structs, then having these test modules already defined ensures we\u0027ll be testing those generated layouts.",
      "parentUuid": "87e836a8_c3ee5105",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 50
      },
      "revId": "52c44da373e301d45af45546f417557b351109e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8a7d968_11f6dcef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-27T16:33:56Z",
      "side": 1,
      "message": "Thanks for the explanation.\n\nOne more question then, could rust_bindgen use CreateModule internally to create these tests, so that we don\u0027t always have to declare them separately?",
      "parentUuid": "97e1360f_9e4ceea8",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 50
      },
      "revId": "52c44da373e301d45af45546f417557b351109e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11377298_c81ff643",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1115178
      },
      "writtenOn": "2021-08-27T16:40:43Z",
      "side": 1,
      "message": "It\u0027s something I\u0027ve considered. I believe we could, but it makes the existence of the test a little less obvious since it\u0027s not clearly defined in a build file. At least with this approach it\u0027s clear there\u0027s a test here which can be run. The risk of course being that the test never gets defined.\n\nThis isn\u0027t a particularly strong conviction; I could be convinced that its better to just automatically create these and make sure the automatic test generation is well documented :)",
      "parentUuid": "d8a7d968_11f6dcef",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 50
      },
      "revId": "52c44da373e301d45af45546f417557b351109e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f38d691_97e7ace4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-27T16:47:13Z",
      "side": 1,
      "message": "host tests which are marked as unit tests will automatically be run by the infra these days. jdesprez@ has been doing a lot of work to improve this situation, to make sure we are running all host tests that we can (I expect this can be done as a host test). If you want to consider it more, you might reach out to him to make sure our infra would be running them.",
      "parentUuid": "11377298_c81ff643",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 50
      },
      "revId": "52c44da373e301d45af45546f417557b351109e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}