{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4da1f53f_924a0a06",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 5
      },
      "lineNbr": 189,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-05-21T19:32:11Z",
      "side": 0,
      "message": "Don\u0027t delete this. It is required by the underlying implementation:\n\nhttps://developer.android.com/ndk/reference/group/ndk-binder?hl\u003dzh-cn#group___ndk_binder_1ga07c7097b2549ef514675ec52617d30d1",
      "revId": "5000615e8959f3386cb44d4739de7e7396ad005e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a0b651f_bf0f2ceb",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 5
      },
      "lineNbr": 189,
      "author": {
        "id": 1809582
      },
      "writtenOn": "2021-05-21T20:29:13Z",
      "side": 0,
      "message": "In that case, the wording is really ambiguous to me. I interpreted the phrase as \"exactly a value returned by get_data_position()\", but what we\u0027re doing in this patch (line 263) is \"get_data_position() + offset\". Is that still covered?",
      "parentUuid": "4da1f53f_924a0a06",
      "revId": "5000615e8959f3386cb44d4739de7e7396ad005e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac3a1bfd_b6957b4d",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 5
      },
      "lineNbr": 189,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-05-21T20:32:13Z",
      "side": 0,
      "message": "I think the answer may be no, because this may be in order to allow for scatter-gather parcel IO, in which case doing arithmetic on the offset may not work.\n\nsmoreland@ to confirm?",
      "parentUuid": "1a0b651f_bf0f2ceb",
      "revId": "5000615e8959f3386cb44d4739de7e7396ad005e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7284472b_5198d137",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 5
      },
      "lineNbr": 189,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-21T21:05:46Z",
      "side": 0,
      "message": "Err - no offset. The change in position from any call on the Parcel is not supposed to part of the API. Btw - I think Jooyung fixed the bug this CL is trying to in b/186633641?",
      "parentUuid": "ac3a1bfd_b6957b4d",
      "revId": "5000615e8959f3386cb44d4739de7e7396ad005e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff9c0fcf_92daf56c",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 5
      },
      "lineNbr": 189,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-05-21T21:25:06Z",
      "side": 0,
      "message": "I think he\u0027s poking at this because I commented that:\nhttps://android-review.googlesource.com/c/platform/system/tools/aidl/+/1688277/2/generate_rust.cpp#586\nintroduced `unsafe` code into the generated code, which we were trying to avoid in order to maintain readability of the tricky parts.\n\nIn this case, it looks like our existing change makes the same error I was pointing out here - it computes a new data position by offset, then sets it.",
      "parentUuid": "7284472b_5198d137",
      "revId": "5000615e8959f3386cb44d4739de7e7396ad005e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfb84fe6_7ca3984d",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 5
      },
      "lineNbr": 189,
      "author": {
        "id": 1809582
      },
      "writtenOn": "2021-05-21T23:45:04Z",
      "side": 0,
      "message": "The NDK backend does the same thing: https://android.googlesource.com/platform/system/tools/aidl/+/refs/heads/master/generate_ndk.cpp#1106",
      "parentUuid": "ff9c0fcf_92daf56c",
      "revId": "5000615e8959f3386cb44d4739de7e7396ad005e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "99571923_1403a1d4",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 5
      },
      "lineNbr": 189,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-05-25T20:32:26Z",
      "side": 0,
      "message": "I see smoreland +1\u0027d it after this thread, so I\u0027ll take that to mean offsets are allowed.",
      "parentUuid": "bfb84fe6_7ca3984d",
      "revId": "5000615e8959f3386cb44d4739de7e7396ad005e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1c0a465d_d83b966d",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 5
      },
      "lineNbr": 189,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-25T20:48:59Z",
      "side": 0,
      "message": "yes - this type of usage of offsets should be okay (from multiple get position calls). What I was thinking this may be which would be problematic is assuming that a given read/write call results in a specific constant offset.",
      "parentUuid": "99571923_1403a1d4",
      "revId": "5000615e8959f3386cb44d4739de7e7396ad005e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}