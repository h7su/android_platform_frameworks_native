{
  "comments": [
    {
      "key": {
        "uuid": "2e3a77cd_1ef21402",
        "filename": "services/sensorservice/SensorDevice.cpp",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-09-29T18:08:42Z",
      "side": 1,
      "message": "it\u0027s unlikely there will be enough time for the service to restart if you don\u0027t sleep\n\nInstead of trying to getService over and over again, why not just call ISensors::registerForNotifications?",
      "range": {
        "startLine": 103,
        "startChar": 11,
        "endLine": 103,
        "endChar": 19
      },
      "revId": "40ccccae70d23c41e650a5fbb55fb6542efefd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5438933_1b0b88e0",
        "filename": "services/sensorservice/SensorDevice.cpp",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1074523
      },
      "writtenOn": "2017-09-29T18:11:29Z",
      "side": 1,
      "message": "ISensors::getService() is supposed to block until the service is up, right?",
      "parentUuid": "2e3a77cd_1ef21402",
      "range": {
        "startLine": 103,
        "startChar": 11,
        "endLine": 103,
        "endChar": 19
      },
      "revId": "40ccccae70d23c41e650a5fbb55fb6542efefd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0310a45b_6c9b4513",
        "filename": "services/sensorservice/SensorDevice.cpp",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-09-29T20:39:01Z",
      "side": 1,
      "message": "The problem is:\ngetService() -\u003e returns\npoll -\u003e really quick\ngetService() -\u003e gets called immediately\n\nBetter is to just make a call to get notifications for ISensors rather than getting it over and over again when it might still be starting up/in the process of dying",
      "parentUuid": "e5438933_1b0b88e0",
      "range": {
        "startLine": 103,
        "startChar": 11,
        "endLine": 103,
        "endChar": 19
      },
      "revId": "40ccccae70d23c41e650a5fbb55fb6542efefd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bd80270_5de02ac4",
        "filename": "services/sensorservice/SensorDevice.cpp",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1074523
      },
      "writtenOn": "2017-09-29T23:59:23Z",
      "side": 1,
      "message": "Done. Although it is not observed that 2nd getService() get called to soon and return dying hidl service, the change do speed up in the restart (adb shell \"stop;start\") case as getService 1s timeout is avoided.",
      "parentUuid": "0310a45b_6c9b4513",
      "range": {
        "startLine": 103,
        "startChar": 11,
        "endLine": 103,
        "endChar": 19
      },
      "revId": "40ccccae70d23c41e650a5fbb55fb6542efefd6b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}