{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ced29c78_e1d70701",
        "filename": "/COMMIT_MSG",
        "patchSetId": 20
      },
      "lineNbr": 11,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T02:47:46Z",
      "side": 1,
      "message": "Please also comment what kind of changes here.",
      "range": {
        "startLine": 10,
        "startChar": 16,
        "endLine": 11,
        "endChar": 58
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a0a2cc3c_29545def",
        "filename": "/COMMIT_MSG",
        "patchSetId": 20
      },
      "lineNbr": 11,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ced29c78_e1d70701",
      "range": {
        "startLine": 10,
        "startChar": 16,
        "endLine": 11,
        "endChar": 58
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc4e853c_3f2619f4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T02:47:46Z",
      "side": 1,
      "message": "Please also help to finish this item.\n// TODO check if service exist and fail.",
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "514a17e6_f64fde81",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T16:55:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cc4e853c_3f2619f4",
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc1333af_81a9dc4c",
        "filename": "cmds/bugreportz/DumpstateClient.cpp",
        "patchSetId": 20
      },
      "lineNbr": 161,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T04:20:26Z",
      "side": 1,
      "message": "Since we link to death in the StartBugreport, how about unlink the death in the WaitForBugreport?",
      "range": {
        "startLine": 161,
        "startChar": 4,
        "endLine": 161,
        "endChar": 17
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17ec36fd_20da25ff",
        "filename": "cmds/bugreportz/DumpstateClient.cpp",
        "patchSetId": 20
      },
      "lineNbr": 161,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fc1333af_81a9dc4c",
      "range": {
        "startLine": 161,
        "startChar": 4,
        "endLine": 161,
        "endChar": 17
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e1c9de2_867b3825",
        "filename": "cmds/bugreportz/DumpstateClient.cpp",
        "patchSetId": 20
      },
      "lineNbr": 204,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T05:15:39Z",
      "side": 1,
      "message": "Could you explain why we need this std::move here?",
      "range": {
        "startLine": 204,
        "startChar": 51,
        "endLine": 204,
        "endChar": 64
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff5d9077_a5401668",
        "filename": "cmds/bugreportz/DumpstateClient.cpp",
        "patchSetId": 20
      },
      "lineNbr": 204,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "Clang-Tidy suggest pass by value and use std::move here.\n\u003e\u003e Parameter \u0027ds\u0027 is passed by value and only copied once; consider moving it to avoid unnecessary copies\n\nI think it\u0027s true generally, but false when testing.",
      "parentUuid": "2e1c9de2_867b3825",
      "range": {
        "startLine": 204,
        "startChar": 51,
        "endLine": 204,
        "endChar": 64
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "38271d24_1609d8aa",
        "filename": "cmds/bugreportz/DumpstateClient.cpp",
        "patchSetId": 20
      },
      "lineNbr": 204,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T13:09:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff5d9077_a5401668",
      "range": {
        "startLine": 204,
        "startChar": 51,
        "endLine": 204,
        "endChar": 64
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d24d7739_4152f921",
        "filename": "cmds/bugreportz/DumpstateClient.h",
        "patchSetId": 20
      },
      "lineNbr": 33,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T02:47:46Z",
      "side": 1,
      "message": "\u003e Lines longer than 100 characters should be wrapped to improve readability; see https://source.android.com/setup/contribute/code-style#limit-line-length for more details.\n\nPlease fix.",
      "parentUuid": "43ffdc56_0d86749e",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 102
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f5348b3_cef29a11",
        "filename": "cmds/bugreportz/DumpstateClient.h",
        "patchSetId": 20
      },
      "lineNbr": 33,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d24d7739_4152f921",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 102
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0c758a73_2287d2a0",
        "filename": "cmds/bugreportz/bugreportz.cpp",
        "patchSetId": 20
      },
      "lineNbr": 26,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T03:33:13Z",
      "side": 1,
      "message": "We shall return immediately, if StartBugreport is fail.",
      "range": {
        "startLine": 26,
        "startChar": 8,
        "endLine": 26,
        "endChar": 51
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "51e66397_88368f74",
        "filename": "cmds/bugreportz/bugreportz.cpp",
        "patchSetId": 20
      },
      "lineNbr": 26,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0c758a73_2287d2a0",
      "range": {
        "startLine": 26,
        "startChar": 8,
        "endLine": 26,
        "endChar": 51
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "577e34aa_a963ad26",
        "filename": "cmds/bugreportz/bugreportz_test.cpp",
        "patchSetId": 20
      },
      "lineNbr": 180,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T03:33:13Z",
      "side": 1,
      "message": "EXPECT_CALL_START_BUGREPOR_ONCE_THEN_DO",
      "range": {
        "startLine": 180,
        "startChar": 8,
        "endLine": 180,
        "endChar": 35
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2e517508_f246a096",
        "filename": "cmds/bugreportz/bugreportz_test.cpp",
        "patchSetId": 20
      },
      "lineNbr": 180,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "577e34aa_a963ad26",
      "range": {
        "startLine": 180,
        "startChar": 8,
        "endLine": 180,
        "endChar": 35
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33b1d3f8_b6f09a51",
        "filename": "cmds/bugreportz/main.cpp",
        "patchSetId": 20
      },
      "lineNbr": 91,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T02:47:46Z",
      "side": 1,
      "message": "I thought we shall always stop process when it exits.",
      "range": {
        "startLine": 91,
        "startChar": 12,
        "endLine": 91,
        "endChar": 31
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03e275fc_83efa855",
        "filename": "cmds/bugreportz/main.cpp",
        "patchSetId": 20
      },
      "lineNbr": 91,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "33b1d3f8_b6f09a51",
      "range": {
        "startLine": 91,
        "startChar": 12,
        "endLine": 91,
        "endChar": 31
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d22d5a1_5efb9bf9",
        "filename": "cmds/bugreportz/testDumpstateClient.plantuml",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T02:47:46Z",
      "side": 1,
      "message": "what purpose does it",
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4cfc0b3_b15405b6",
        "filename": "cmds/bugreportz/testDumpstateClient.plantuml",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "Unintented upload. Remove it.",
      "parentUuid": "1d22d5a1_5efb9bf9",
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "661d2d80_f883e2b8",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2785,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T04:42:02Z",
      "side": 1,
      "message": "Is it necessary to have this change?",
      "range": {
        "startLine": 2782,
        "startChar": 4,
        "endLine": 2785,
        "endChar": 45
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ea8dc58_a6674a4a",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2785,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "No.\nBut we need a way to call listener_-\u003eonProgress() in UpdateProgress() that is guarded by do_progress_updates.",
      "parentUuid": "661d2d80_f883e2b8",
      "range": {
        "startLine": 2782,
        "startChar": 4,
        "endLine": 2785,
        "endChar": 45
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee2e43d5_e75fadf1",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2810,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T04:42:02Z",
      "side": 1,
      "message": "Since progress 0 can be reported multiple times, is it necessary to have this change here?",
      "range": {
        "startLine": 2806,
        "startChar": 4,
        "endLine": 2810,
        "endChar": 5
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "032c0c8f_751fa748",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2810,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T08:05:15Z",
      "side": 1,
      "message": "For a quick report like limit mode without this, there is no seperate true BEGIN progress to be received and the first progress received would be the BEGIN message in current implementation. This is not the BEGIN message tend to do and the litener have no callback like onBegin to do that. I think the chioces would be 1) no BEGIN in the litener 2) have a similiar behavior like this change. WDYT?",
      "parentUuid": "ee2e43d5_e75fadf1",
      "range": {
        "startLine": 2806,
        "startChar": 4,
        "endLine": 2810,
        "endChar": 5
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad026dd9_f36ba973",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2810,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-07T13:09:31Z",
      "side": 1,
      "message": "How about we have `Dumpstate::BugreportMode::BUGREPORT_DEFAULT` enable `options_-\u003edo_progress_updates \u003d true`  in #2541. Then we can move these code inside the #2793.",
      "parentUuid": "032c0c8f_751fa748",
      "range": {
        "startLine": 2806,
        "startChar": 4,
        "endLine": 2810,
        "endChar": 5
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27bfed3e_c4273c05",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2810,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T14:54:29Z",
      "side": 1,
      "message": "Agree. But a BUGREPORT_DEFAULT report should not send broadcast that\u0027s why this mode exist.\nAdditional check for default mode will be added.",
      "parentUuid": "ad026dd9_f36ba973",
      "range": {
        "startLine": 2806,
        "startChar": 4,
        "endLine": 2810,
        "endChar": 5
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cfe946a7_87e28415",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2810,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-07T15:09:51Z",
      "side": 1,
      "message": "Enabling `do_progress_updates` will also enable `do_early_screenshot_` not needed by default mode. Adding exception checks to these 2 seems a bit strange.",
      "parentUuid": "27bfed3e_c4273c05",
      "range": {
        "startLine": 2806,
        "startChar": 4,
        "endLine": 2810,
        "endChar": 5
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60713daa_2af990ca",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2810,
      "author": {
        "id": 1371409
      },
      "writtenOn": "2020-12-08T03:34:52Z",
      "side": 1,
      "message": "We shall have a new mode, such as BUGREPORT_ADB, if BUGREPORT_DEFAULT does not allow to send a broadcast. The reason is in the previous design, we send a BUGREPORT_STARTED broadcast when `adb bugreport` is invoked.\n\nMy idea is:\n1. Have a new mode BUGREPORT_ADB\n2. Have a new option progress_updates_to_adb\n3. Set `options_-\u003edo_progress_updates \u003d true` in #2788.\n4. In #2809, `if (options-\u003eprogress_updates_to_adb \u0026\u0026 listener_ !\u003d nullptr)`\n\nThen we can remove `progress_updates_to_socket` thing, right?",
      "parentUuid": "cfe946a7_87e28415",
      "range": {
        "startLine": 2806,
        "startChar": 4,
        "endLine": 2810,
        "endChar": 5
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03ebba5d_2d7cbe48",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 20
      },
      "lineNbr": 2810,
      "author": {
        "id": 1308157
      },
      "writtenOn": "2020-12-08T08:05:50Z",
      "side": 1,
      "message": "Discussed offline. The broadcast and do_early_screenshot_ don\u0027t need to check mode and enabling \n do_progress_updates in `SetOptionsFromMode()` works. \n\nhttps://android-review.googlesource.com/c/platform/frameworks/native/+/842055/ for history reference of broadcast behavior.",
      "parentUuid": "60713daa_2af990ca",
      "range": {
        "startLine": 2806,
        "startChar": 4,
        "endLine": 2810,
        "endChar": 5
      },
      "revId": "b19d2e494af0d67245f3b206beeb22b37619f5c0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}