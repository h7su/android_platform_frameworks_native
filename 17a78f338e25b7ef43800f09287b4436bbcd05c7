{
  "comments": [
    {
      "key": {
        "uuid": "e4a894fa_3225acce",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 2
      },
      "lineNbr": 378,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-04-06T13:06:21Z",
      "side": 1,
      "message": "Can we enforce that we have a value for this? Right now, if we do a typo somewhere, we\u0027ll just not pass the argument right? I think for installd, we can always pass the argument and dex2oat will report an error if the file is not present / corrupted.",
      "range": {
        "startLine": 378,
        "startChar": 40,
        "endLine": 378,
        "endChar": 75
      },
      "revId": "17a78f338e25b7ef43800f09287b4436bbcd05c7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43e478e3_de8340c0",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 2
      },
      "lineNbr": 378,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-04-06T13:26:17Z",
      "side": 1,
      "message": "Unfortunately, this is a constructor, so it\u0027s not a convenient place to report errors.\n\nWhere do you expect us to make typos? Once we merge this topic and have a default value, typo anywhere else would just result in getting the default value, so the check you\u0027re proposing would not trigger even if the behavior would not be as intended by the person trying to override it. Or do you expect rewrites of runtime_libart.mk that would touch the default and not just cut and paste?",
      "parentUuid": "e4a894fa_3225acce",
      "range": {
        "startLine": 378,
        "startChar": 40,
        "endLine": 378,
        "endChar": 75
      },
      "revId": "17a78f338e25b7ef43800f09287b4436bbcd05c7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a09007ed_49bb4823",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 2
      },
      "lineNbr": 378,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-04-06T13:34:00Z",
      "side": 1,
      "message": "Yeah, any kind of rewrites / refactorings would make it possible that we would end up not passing the option.\n\nIn this method, I think you could do something like\nif (property_exists) {\n  add(\"--updatable-bcp-packages-file\u003dproperty\";\n} else {\n  add(\"--updatable-bcp-packages-file\u003d/non/existent\");\n}\n\nAnd dex2oat would handle the error?",
      "parentUuid": "43e478e3_de8340c0",
      "range": {
        "startLine": 378,
        "startChar": 40,
        "endLine": 378,
        "endChar": 75
      },
      "revId": "17a78f338e25b7ef43800f09287b4436bbcd05c7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24d3aaf0_160fbfbd",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 2
      },
      "lineNbr": 378,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-04-06T13:58:39Z",
      "side": 1,
      "message": "Done (used /nonx/ in line with kJitZygoteImage in line 304).",
      "parentUuid": "a09007ed_49bb4823",
      "range": {
        "startLine": 378,
        "startChar": 40,
        "endLine": 378,
        "endChar": 75
      },
      "revId": "17a78f338e25b7ef43800f09287b4436bbcd05c7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}