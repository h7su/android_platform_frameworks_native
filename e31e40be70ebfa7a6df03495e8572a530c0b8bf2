{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "def9c0b4_e301ed23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-01-05T23:11:46Z",
      "side": 1,
      "message": "btw I\u0027m wondering if b/316829336 is made more likely by changing the servicemanager scheduling, so you might hold off on merging until that\u0027s resolved, but it may be unrelated",
      "revId": "e31e40be70ebfa7a6df03495e8572a530c0b8bf2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f4e3a8d_097f0013",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1061011
      },
      "writtenOn": "2024-01-08T11:33:58Z",
      "side": 1,
      "message": "Intiutively, I don\u0027t see why granting servicemanager access to additional CPUs could make this freeze/crash more likely. \n\nIn b/316829336, in the cpuinfo section, servicemanager used only 6% of the cpu, while system_server used 182%. It might actually be that servicemanager was starved, hence this change could have helped.\n\nI agree that the platform is complex enough so a change like this could cause an unexpected result but I don\u0027t think that delaying it would help us understand the problem better. \n\n@zezeozue@google.com, since you have more experience with ANRs, can you share your thoughts on the issue?",
      "parentUuid": "def9c0b4_e301ed23",
      "revId": "e31e40be70ebfa7a6df03495e8572a530c0b8bf2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db647ca2_b7bdc519",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1346941
      },
      "writtenOn": "2024-01-08T13:37:37Z",
      "side": 1,
      "message": "I\u0027d wager that Milo\u0027s theory of servicemanager is correct. servicemanager starvation is what led us to investigate this cl in the first place. There\u0027s a regression that happened in U that led to increased servicemanager starvation. It was never root caused. This change is more of a bandaid on that issue. See b/297046915 and https://screenshot.googleplex.com/7zK9RWEVsywV6z3 that showed an increase in sm cpu contention way back in July",
      "parentUuid": "1f4e3a8d_097f0013",
      "revId": "e31e40be70ebfa7a6df03495e8572a530c0b8bf2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a57d197_aee49052",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1059977
      },
      "writtenOn": "2024-01-08T17:03:09Z",
      "side": 1,
      "message": "There is overwhelming evidence that service manager is a global CUJ bottleneck when it\u0027s restricted to the bg cpuset, and growing evidence that removing this restriction has significant and user-perceptible impact on device performance.\nLet\u0027s please land this change.",
      "parentUuid": "db647ca2_b7bdc519",
      "revId": "e31e40be70ebfa7a6df03495e8572a530c0b8bf2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96214f48_2df0507a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-01-08T18:27:46Z",
      "side": 1,
      "message": "Please see b/316829336#comment19.\n\nThe only major change to SM recently is a scheduling change, so there does seem like there is a distinct possibility that this increased the chance this race occured. So, please hold off until we have time to resolve this issue. As it is the beginning of the year, several maintainers who I needed help on this issue were out, so we need some time, thanks. Super supportive of this issue, except for another fire in the area.",
      "parentUuid": "2a57d197_aee49052",
      "revId": "e31e40be70ebfa7a6df03495e8572a530c0b8bf2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7fe0557_8e833f0f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-01-08T18:43:44Z",
      "side": 1,
      "message": "Alright, well Tim still suggests landing this (b/316829336#comment19 ). So here we go:)",
      "parentUuid": "96214f48_2df0507a",
      "revId": "e31e40be70ebfa7a6df03495e8572a530c0b8bf2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}