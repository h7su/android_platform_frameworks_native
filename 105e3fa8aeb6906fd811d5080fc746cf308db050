{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e607c8ea_d8096ec4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-09-28T20:45:52Z",
      "side": 1,
      "message": "To double-check I\u0027m not missing something, this is intended only for calls which are not the child of another binder call, and supporting that will come in future patches, right?",
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37127cc3_c11b4a21",
        "filename": "libs/binder/rust/Android.bp",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-09-29T18:33:22Z",
      "side": 1,
      "message": "okay, cool, so we did get it so that only people that want to use this need to add this dep?",
      "range": {
        "startLine": 35,
        "startChar": 11,
        "endLine": 35,
        "endChar": 29
      },
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc6bdac3_7ee97fc6",
        "filename": "libs/binder/rust/Android.bp",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-09-29T20:22:56Z",
      "side": 1,
      "message": "Yes, that is what parameterizing the type did - basically, it describes an abstract interface that this library happens to fulfill. If someone wants to use the async features they\u0027ll need this library, but sync people won\u0027t.",
      "parentUuid": "37127cc3_c11b4a21",
      "range": {
        "startLine": 35,
        "startChar": 11,
        "endLine": 35,
        "endChar": 29
      },
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09f21c14_9697d87e",
        "filename": "libs/binder/rust/binder_tokio/sync_wrapper.rs",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-09-28T20:45:52Z",
      "side": 1,
      "message": "Doesn\u0027t T need to be Send for this to be legal?",
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f295334_c268363d",
        "filename": "libs/binder/rust/binder_tokio/sync_wrapper.rs",
        "patchSetId": 4
      },
      "lineNbr": 18,
      "author": {
        "id": 1892347
      },
      "writtenOn": "2021-09-29T22:09:02Z",
      "side": 1,
      "message": "It doesn\u0027t need `T: Send` for the same reasons that it doesn\u0027t need `T: Sync`, namely that an `\u0026SyncWrapper\u003cT\u003e` is useless.",
      "parentUuid": "09f21c14_9697d87e",
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a43d2bc_ef097ffc",
        "filename": "libs/binder/rust/binder_tokio/sync_wrapper.rs",
        "patchSetId": 4
      },
      "lineNbr": 31,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-09-28T20:45:52Z",
      "side": 1,
      "message": "Maybe explicitly point out that this has \u0026mut to the SyncWrapper, so it\u0027s not violating the promise made in the unsafe impl Sync?",
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a67e565_90901852",
        "filename": "libs/binder/rust/src/binder_async.rs",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-09-28T20:45:52Z",
      "side": 1,
      "message": "Why is this not just a re-export of futures::future::BoxFuture ? Is it because it\u0027s also Sync? Why does it need to be Sync?\n\nIf it doesn\u0027t need to be sync, I\u0027d also expect that binder_tokio would no longer need the sync_wrapper module\n\nIf it does need to be sync, I\u0027d prefer a name other than BoxFuture because I think people will confuse it with `futures::future::BoxFuture` which would be a subtly different type.",
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b347d9b5_befc1bb8",
        "filename": "libs/binder/rust/src/binder_async.rs",
        "patchSetId": 4
      },
      "lineNbr": 7,
      "author": {
        "id": 1892347
      },
      "writtenOn": "2021-09-29T22:09:02Z",
      "side": 1,
      "message": "I added the `+ Sync` because it makes the functions more ergonomic to use. Things that aren\u0027t `Sync` can propagate through many layers of types an async fns, and you will sometimes run into issues with other libraries that have a `: Sync` bound somewhere. A similar discussion can be found in https://github.com/hyperium/hyper/pull/2653.\n\nAlso, this crate does not depend on the futures crate.",
      "parentUuid": "1a67e565_90901852",
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47113941_015680a4",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1416371
      },
      "writtenOn": "2021-09-29T20:22:56Z",
      "side": 1,
      "message": "After chatting with Andrei, I\u0027m not convinced that Parcel is Send because of the Borrowed case.\n\nIn the Borrowed case, the object is still owned by C++ somewhere. That means that if we `Send` it, we are asserting that the underlying `AParcel` is threadsafe, because C++ may attempt to access it from the thread we sent it from. It is not clear to me that it is, though I\u0027d be happy for smoreland@ to tell me I\u0027m wrong and that `AParcel` is thread-safe.",
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c18c262_b7081fef",
        "filename": "libs/binder/rust/src/parcel.rs",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1892347
      },
      "writtenOn": "2021-09-29T22:09:02Z",
      "side": 1,
      "message": "I see. In that case, this is yet another reason that it shouldn\u0027t be an enum (b/200676345)",
      "parentUuid": "47113941_015680a4",
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d417736_34195ecb",
        "filename": "libs/binder/rust/tests/integration.rs",
        "patchSetId": 4
      },
      "lineNbr": 158,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-09-29T18:33:22Z",
      "side": 1,
      "message": "would you consider adding some cases to aidl_integration_tests as well, to make sure this still interops w/ the other languages w/o any problems?",
      "range": {
        "startLine": 158,
        "startChar": 10,
        "endLine": 158,
        "endChar": 16
      },
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f844f08_ea501853",
        "filename": "libs/binder/rust/tests/integration.rs",
        "patchSetId": 4
      },
      "lineNbr": 158,
      "author": {
        "id": 1892347
      },
      "writtenOn": "2021-09-29T22:09:02Z",
      "side": 1,
      "message": "Sure, I\u0027ll do that next week.",
      "parentUuid": "3d417736_34195ecb",
      "range": {
        "startLine": 158,
        "startChar": 10,
        "endLine": 158,
        "endChar": 16
      },
      "revId": "105e3fa8aeb6906fd811d5080fc746cf308db050",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}