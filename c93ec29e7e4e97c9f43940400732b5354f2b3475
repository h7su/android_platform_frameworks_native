{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d48e92a9_61c464b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "I\u0027m just curious why this isn\u0027t done in a more common way: creating temporary files for writing and moving them to the final location when the compilation succeeds, but I\u0027m fine with either way if other reviewers are okay with this \"open-and-backup\" approach.",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "827333aa_6d5f51e4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:14:08Z",
      "side": 1,
      "message": "There is no strong reason but the current approach required less work with the original code which always remove existing file and remove the work file if it fails.",
      "parentUuid": "d48e92a9_61c464b0",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64289ac5_f42dfec2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-17T10:38:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "827333aa_6d5f51e4",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e132c186_9d229a47",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2008,
      "author": {
        "id": 1165189
      },
      "writtenOn": "2021-11-16T17:20:50Z",
      "side": 1,
      "message": "Isn\u0027t reference_profile.DisableCleanup() needed here?",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27a313ef_2867fea5",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2008,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "It was cleaned up before. I am not sure if we should keep it or delete it. I will leave it to  ngeoffray@ to decide whether to keep it or delete it for error case.",
      "parentUuid": "e132c186_9d229a47",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85618c2c_cc102b22",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2008,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-11-18T09:23:31Z",
      "side": 1,
      "message": "This is the case dex2oat crashes? As a safety measure, keeping the old behavior of cancelling sounds ok.",
      "parentUuid": "27a313ef_2867fea5",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a5405be_0a233a23",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2008,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-19T18:16:06Z",
      "side": 1,
      "message": "Yes, it is crash or other exit with error case. SO keep the old behavior but keep the profile when it is explicitly cancelled.",
      "parentUuid": "85618c2c_cc102b22",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a9f63a5_59629287",
        "filename": "cmds/installd/tests/installd_unique_file_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1165189
      },
      "writtenOn": "2021-11-16T17:20:50Z",
      "side": 1,
      "message": "final?",
      "range": {
        "startLine": 46,
        "startChar": 6,
        "endLine": 46,
        "endChar": 20
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2e77faa_732ad4a9",
        "filename": "cmds/installd/tests/installd_unique_file_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "it cannot as gtest macros inherit this in each test method impl.",
      "parentUuid": "0a9f63a5_59629287",
      "range": {
        "startLine": 46,
        "startChar": 6,
        "endLine": 46,
        "endChar": 20
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54e8da9a_8a9567f8",
        "filename": "cmds/installd/tests/installd_unique_file_test.xml",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "\u003e Lines longer than 100 characters should be wrapped to improve readability; see https://source.android.com/setup/contribute/code-style#limit-line-length for more details.\n\nPlease fix.",
      "parentUuid": "66c26add_d0b9e4aa",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 107
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f4e3a360_45da8947",
        "filename": "cmds/installd/tests/installd_unique_file_test.xml",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54e8da9a_8a9567f8",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 107
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69a69ccb_a2fea2da",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "Nit: kBackupFileSuffix",
      "range": {
        "startLine": 29,
        "startChar": 15,
        "endLine": 29,
        "endChar": 33
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9390bd81_b9740f0c",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "69a69ccb_a2fea2da",
      "range": {
        "startLine": 29,
        "startChar": 15,
        "endLine": 29,
        "endChar": 33
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a29558cb_501cc862",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "Nit: \"U\" should be in lowercase.",
      "range": {
        "startLine": 31,
        "startChar": 12,
        "endLine": 31,
        "endChar": 29
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab37f2d7_5fa8171c",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a29558cb_501cc862",
      "range": {
        "startLine": 31,
        "startChar": 12,
        "endLine": 31,
        "endChar": 29
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7445d51f_607dd7fc",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1165189
      },
      "writtenOn": "2021-11-16T17:20:50Z",
      "side": 1,
      "message": "nit: one more space",
      "range": {
        "startLine": 35,
        "startChar": 1,
        "endLine": 35,
        "endChar": 2
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84e418de_59bb174e",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7445d51f_607dd7fc",
      "range": {
        "startLine": 35,
        "startChar": 1,
        "endLine": 35,
        "endChar": 2
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6cb5961f_52701c80",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "I\u0027d prefer logging the error if the backup file exists but cannot be removed.",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6fa33a60_038dd1de",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "I will log error other than file not existing case.",
      "parentUuid": "6cb5961f_52701c80",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e89ca5c_1cf95ee5",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "Ditto.",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8bdd3783_5f45ac81",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e89ca5c_1cf95ee5",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c51981f_f3069df4",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "Nit: Add a space after the colon.",
      "range": {
        "startLine": 114,
        "startChar": 42,
        "endLine": 114,
        "endChar": 43
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1dbfaef7_046d2a60",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6c51981f_f3069df4",
      "range": {
        "startLine": 114,
        "startChar": 42,
        "endLine": 114,
        "endChar": 43
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b67fcd82_be125da6",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "Ditto, please log errors if any.",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "93bf0b89_1e9259a3",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b67fcd82_be125da6",
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa522b15_e539059b",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 125,
      "author": {
        "id": 1165189
      },
      "writtenOn": "2021-11-16T17:20:50Z",
      "side": 1,
      "message": "has_backup_file_ is now false?",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 125,
        "endChar": 1
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03c23384_3fc220d9",
        "filename": "cmds/installd/unique_file.cpp",
        "patchSetId": 1
      },
      "lineNbr": 125,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "this is static method without the instance. So no member to clear.",
      "parentUuid": "fa522b15_e539059b",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 125,
        "endChar": 1
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bffc3f2_8c19d6a1",
        "filename": "cmds/installd/unique_file.h",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:35:00Z",
      "side": 1,
      "message": "Is this unused?",
      "range": {
        "startLine": 103,
        "startChar": 4,
        "endLine": 103,
        "endChar": 15
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "50c0ac73_6f8875ab",
        "filename": "cmds/installd/unique_file.h",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1010465
      },
      "writtenOn": "2021-11-17T01:11:57Z",
      "side": 1,
      "message": "yes, I ended up not using it.",
      "parentUuid": "6bffc3f2_8c19d6a1",
      "range": {
        "startLine": 103,
        "startChar": 4,
        "endLine": 103,
        "endChar": 15
      },
      "revId": "c93ec29e7e4e97c9f43940400732b5354f2b3475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}