{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "62397484_ba1621ae",
        "filename": "libs/binder/ndk/include_cpp/android/binder_auto_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-11-03T06:27:34Z",
      "side": 1,
      "message": "can this be ...\n\n```\n#if __XXX_ARE_WEAK___ || __ANDROID_API__ \u003e\u003d 30\n   if (__builtin_available(android 30, *)) {\n      ...\n   }\n#endif\n```\n\n?",
      "range": {
        "startLine": 271,
        "startChar": 0,
        "endLine": 284,
        "endChar": 6
      },
      "revId": "87a28e1f72597bec2c879cb5b0da98477de98062",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3703d0b0_e7b0160d",
        "filename": "libs/binder/ndk/include_cpp/android/binder_auto_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2022-11-03T20:28:12Z",
      "side": 1,
      "message": "It can\u0027t because __builtin_available can\u0027t be used in app environments (e.g. Android Studio gradle) - see also b/257135519.",
      "parentUuid": "62397484_ba1621ae",
      "range": {
        "startLine": 271,
        "startChar": 0,
        "endLine": 284,
        "endChar": 6
      },
      "revId": "87a28e1f72597bec2c879cb5b0da98477de98062",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2891ea8_226c183b",
        "filename": "libs/binder/ndk/include_cpp/android/binder_auto_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-11-05T08:28:58Z",
      "side": 1,
      "message": "Is it can\u0027t, or shouldn\u0027t? I thought it\u0027s the latter because apps are built without -Wunguarded-availability and therefore shouldn\u0027t rely on __builtin_available to have a build-time error.\n\nHowever, we have #if __ANDROID_API__ \u003e\u003d 30 as well in this file.",
      "parentUuid": "3703d0b0_e7b0160d",
      "range": {
        "startLine": 271,
        "startChar": 0,
        "endLine": 284,
        "endChar": 6
      },
      "revId": "87a28e1f72597bec2c879cb5b0da98477de98062",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6cd782f_2869896b",
        "filename": "libs/binder/ndk/include_cpp/android/binder_auto_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2022-11-07T20:16:57Z",
      "side": 1,
      "message": "Library code cannot. Weak vs strict symbols are the app developer\u0027s choice. This needs to be usable in both configurations.",
      "parentUuid": "a2891ea8_226c183b",
      "range": {
        "startLine": 271,
        "startChar": 0,
        "endLine": 284,
        "endChar": 6
      },
      "revId": "87a28e1f72597bec2c879cb5b0da98477de98062",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a23b52c_71cc0784",
        "filename": "libs/binder/ndk/include_cpp/android/binder_auto_utils.h",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2022-11-07T20:42:57Z",
      "side": 1,
      "message": "Thanks Jiyong - I can fix this case if it comes up, and we can do it in a way that\u0027s cleaner than what was here. I\u0027ll merge this CL for now, to resolve the issue for now and to verify this fix. If there\u0027s anything else you want me to handle in the short term, let me know.\n\nThanks also Dan - hope you will complete my feature request b/257135519 to test all this code in general in both configurations automatically, because we won\u0027t be able to tell everyone what \"needs\" to happen. We \"need\" a generic test. It doesn\u0027t matter what has happened here, but the result is clear: this type of issue is unequivocally preventable, and we can\u0027t be facing this type of issue in the future and we won\u0027t be - we\u0027re going to fix this, because after that, we have greater problems to solve. We test this for AIDL now, but I need your help here - to make sure this situation is fixed in general - this option - is either removed or tested, and new significant options, they can\u0027t be introduced unless they are also tested across the board. Thank you!",
      "parentUuid": "d6cd782f_2869896b",
      "range": {
        "startLine": 271,
        "startChar": 0,
        "endLine": 284,
        "endChar": 6
      },
      "revId": "87a28e1f72597bec2c879cb5b0da98477de98062",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}