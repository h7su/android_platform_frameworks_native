{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "243230f2_75433bb1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-10-25T23:24:50Z",
      "side": 1,
      "message": "This is the fix I was talking about today. It\u0027s building and passing tests on Linux, but fails to build on Android yet. I\u0027ll fix it tomorrow.",
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d639be4_7b7c1457",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-10-25T23:31:43Z",
      "side": 1,
      "message": "yeah, this looks very solid",
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e989c4a2_1c339102",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-10-26T17:54:59Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "8d639be4_7b7c1457",
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5fae37d_c87767e7",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 273,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-10-25T23:31:43Z",
      "side": 1,
      "message": "we\u0027ll need to perf test the mutex switches independently",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 273,
        "endChar": 21
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64db39b0_dbf14912",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 273,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-10-26T17:54:59Z",
      "side": 1,
      "message": "Is it enough if I run binderParcelBenchmark and binderRpcBenchmark and compare numbers before and after?",
      "parentUuid": "a5fae37d_c87767e7",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 273,
        "endChar": 21
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0acfdf67_e122c806",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 273,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-10-26T21:19:22Z",
      "side": 1,
      "message": "I\u0027d also check binderThroughputBenchmark. You might also use frameworks/base/libs/hwui/tests/scripts/prep_generic.sh to control for other things.\n\nThe thing is, these tests aren\u0027t going to be representative of real binder usage. So, you might do boot time or app startup time as well. Also, it should be in a separate and ideally easily revertible change. This kind of thing can be tricky to land.",
      "parentUuid": "64db39b0_dbf14912",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 273,
        "endChar": 21
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb7e9bb0_7fba8a18",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 273,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-10-26T21:21:08Z",
      "side": 1,
      "message": "Sure, let me split this out. Is there anything else besides mutexes I should be doing as a separate change here?",
      "parentUuid": "0acfdf67_e122c806",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 273,
        "endChar": 21
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a519d8e_39ae34fb",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 273,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-10-26T21:24:51Z",
      "side": 1,
      "message": "You might have a headache with some header files being removed, because they may only be used as transitive dependencies on specific devices, which won\u0027t be tested in presubmit.",
      "parentUuid": "bb7e9bb0_7fba8a18",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 273,
        "endChar": 21
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b238b7dd_6ecdb7c1",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 273,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-10-26T21:43:52Z",
      "side": 1,
      "message": "Acknowledged. I can run ABDT to minimize that, I already have a bunch of favorite, error-prone targets.",
      "parentUuid": "5a519d8e_39ae34fb",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 273,
        "endChar": 21
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12298782_8291f340",
        "filename": "libs/binder/include/binder/ProcessState.h",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-10-25T23:28:28Z",
      "side": 1,
      "message": "`GUARDED_BY`? We\u0027d need to copy it from libutils.",
      "range": {
        "startLine": 181,
        "startChar": 31,
        "endLine": 181,
        "endChar": 59
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06cd27ed_a8575444",
        "filename": "libs/binder/include/binder/ProcessState.h",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-10-25T23:31:43Z",
      "side": 1,
      "message": "yeah, just not everything in the standard library implements the macros required to actually make -Wthread-safety useful.",
      "parentUuid": "12298782_8291f340",
      "range": {
        "startLine": 181,
        "startChar": 31,
        "endLine": 181,
        "endChar": 59
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6e50d08_25c5ae40",
        "filename": "libs/binder/include/binder/ProcessState.h",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-10-25T23:38:13Z",
      "side": 1,
      "message": "I guess that\u0027s true. It\u0027s just more formal than a comment in English.",
      "parentUuid": "06cd27ed_a8575444",
      "range": {
        "startLine": 181,
        "startChar": 31,
        "endLine": 181,
        "endChar": 59
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1285129_8c65d75e",
        "filename": "libs/binder/include/binder/ProcessState.h",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-10-26T00:24:23Z",
      "side": 1,
      "message": "Yeah. I\u0027ve also seen a few cases of people assuming GUARDED_BY does something, when it actually does not ðŸ˜„, I have also tried adding -Wthread-safety to libbinder in the past, but it\u0027s actually pretty tricky because there are some *really old* paths which do things like check if a memory location is non-zero without guarding access, because they don\u0027t care about races. We should definitely use these macros/attributes more, but I think the c++ stl library implementations do need to catch up a tiny bit, at least the last time I checked.",
      "parentUuid": "f6e50d08_25c5ae40",
      "range": {
        "startLine": 181,
        "startChar": 31,
        "endLine": 181,
        "endChar": 59
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e5721aec_a36b455f",
        "filename": "libs/binder/include/binder/ProcessState.h",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-10-26T17:50:07Z",
      "side": 1,
      "message": "While it would be good to describe mutex-variable relation with formal annotations instead of English language, it\u0027s out of scope of this change. For another time.",
      "parentUuid": "e1285129_8c65d75e",
      "range": {
        "startLine": 181,
        "startChar": 31,
        "endLine": 181,
        "endChar": 59
      },
      "revId": "0b4e75e34b15130e70141817efdd722a3473b3ed",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}