{
  "comments": [
    {
      "key": {
        "uuid": "d6ce3bf4_a36021f6",
        "filename": "cmds/dumpstate/utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-02-21T13:40:49Z",
      "side": 1,
      "message": "[no action required] i\u0027m sooooo confused by what this flag is supposed to mean.",
      "range": {
        "startLine": 108,
        "startChar": 12,
        "endLine": 108,
        "endChar": 22
      },
      "revId": "0dc848b8adf4451b393e80008795d9387953c271",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75007b36_56d9603d",
        "filename": "cmds/dumpstate/utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1336554
      },
      "writtenOn": "2019-02-21T13:49:29Z",
      "side": 1,
      "message": "I think it means only to logcat",
      "parentUuid": "d6ce3bf4_a36021f6",
      "range": {
        "startLine": 108,
        "startChar": 12,
        "endLine": 108,
        "endChar": 22
      },
      "revId": "0dc848b8adf4451b393e80008795d9387953c271",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6cae16e_df71d95e",
        "filename": "cmds/dumpstate/utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-02-21T15:52:34Z",
      "side": 1,
      "message": "Yeah, but as you\u0027ve noted, that isn\u0027t true, MYLOGD also logs to stderr() which goes to a separate file. (log_path_)",
      "parentUuid": "75007b36_56d9603d",
      "range": {
        "startLine": 108,
        "startChar": 12,
        "endLine": 108,
        "endChar": 22
      },
      "revId": "0dc848b8adf4451b393e80008795d9387953c271",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d2f753d_8886207f",
        "filename": "cmds/dumpstate/utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1013984
      },
      "writtenOn": "2019-02-22T04:03:01Z",
      "side": 1,
      "message": "Sorry, I had noooooo idea by just looking at this CL neither (WTF was the author thinking? :-)\n\nLooking at the code, I figured out - log_only means it should just write it to logcat (A.K.A MYLOGD), otherwise it should write it to both logcat and sysout (which is redirected to the main bugreport.txt file).\n\nSo, the proper fix here is:\n\nMYLOGD(.....)\nif (log_only) return;\nprintf(....)",
      "parentUuid": "a6cae16e_df71d95e",
      "range": {
        "startLine": 108,
        "startChar": 12,
        "endLine": 108,
        "endChar": 22
      },
      "revId": "0dc848b8adf4451b393e80008795d9387953c271",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8861acc_ac52fe42",
        "filename": "cmds/dumpstate/utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-02-21T13:40:49Z",
      "side": 1,
      "message": "Where does this go currently ? is stdout redirected anywhere at all, or does it just disappear ?\n\nI don\u0027t think there\u0027s much downside to always MYLOGDing things, unless you think it\u0027s too verbose. We log all sorts of other pointless stuff anyway :)",
      "range": {
        "startLine": 114,
        "startChar": 12,
        "endLine": 115,
        "endChar": 35
      },
      "revId": "0dc848b8adf4451b393e80008795d9387953c271",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "daa1cae6_d97e2f1f",
        "filename": "cmds/dumpstate/utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1336554
      },
      "writtenOn": "2019-02-21T13:49:29Z",
      "side": 1,
      "message": "Agree, hence \"rewrite\" in the TODO. Are you suggesting just do it now?\n\nstdout is redirected to the bugreport file. frameworks/native/cmds/dumpstate/dumpstate.cpp?l\u003d2441. \n\nI added comments to RunInternal in dumpstate.cpp to explain how it works, to my understanding, at some point. Check it out.\n\nIn practice this means these 2 lines will be grouped in different places of the bugreport. MYLOGD lines will be available where all the logcat logs are. printfs are available in the actual section where DurationReporter is called. So having one in some actions and the other in the rest of the action makes it hard to know what\u0027s going on wrt latency",
      "parentUuid": "c8861acc_ac52fe42",
      "range": {
        "startLine": 114,
        "startChar": 12,
        "endLine": 115,
        "endChar": 35
      },
      "revId": "0dc848b8adf4451b393e80008795d9387953c271",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0683153b_71d81b5f",
        "filename": "cmds/dumpstate/utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-02-21T15:52:34Z",
      "side": 1,
      "message": "That\u0027s fair enough, no need to fix it now. Which of the two aspects of MYLOGD are you interested in to debug your problem ? the logcat entry or the dumpstate log file ?",
      "parentUuid": "daa1cae6_d97e2f1f",
      "range": {
        "startLine": 114,
        "startChar": 12,
        "endLine": 115,
        "endChar": 35
      },
      "revId": "0dc848b8adf4451b393e80008795d9387953c271",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "becf6a06_f9ff33a4",
        "filename": "cmds/dumpstate/utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1336554
      },
      "writtenOn": "2019-02-21T16:00:04Z",
      "side": 1,
      "message": "Probably logcat since dumpstate logfile is not timestamped as you noted. Both the bugs referred had debug log level on, so should be helpful.",
      "parentUuid": "0683153b_71d81b5f",
      "range": {
        "startLine": 114,
        "startChar": 12,
        "endLine": 115,
        "endChar": 35
      },
      "revId": "0dc848b8adf4451b393e80008795d9387953c271",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}