{
  "comments": [
    {
      "key": {
        "uuid": "2b8690cb_75c7e408",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2020-08-31T13:26:24Z",
      "side": 1,
      "message": "LGTM, but setParcelable(T) seems a bit restrictive or leads unnecessary copy operation. ",
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "771c87d7_4934bfa0",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 24,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "should these check error codes?",
      "range": {
        "startLine": 24,
        "startChar": 7,
        "endLine": 24,
        "endChar": 17
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a85d6f8a_120b88dd",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 24,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "771c87d7_4934bfa0",
      "range": {
        "startLine": 24,
        "startChar": 7,
        "endLine": 24,
        "endChar": 17
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "61d629a0_7375fb59",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "should this call freeData to reset the state entirely, in case there are other things setup there (e.g. objects)?",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 56,
        "endChar": 37
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7518ae17_aeae41b4",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61d629a0_7375fb59",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 56,
        "endChar": 37
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed8f43c5_3d36df42",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "nit: avoid unneeded allocation on L53 for this case",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 60,
        "endChar": 33
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "277a75c2_784b3510",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed8f43c5_3d36df42",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 60,
        "endChar": 33
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62b8de7f_8466448a",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "this will always be false for unsigned type size_t. Should L58 be int32_t?",
      "range": {
        "startLine": 63,
        "startChar": 8,
        "endLine": 63,
        "endChar": 20
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a9e75a3_b50763c4",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62b8de7f_8466448a",
      "range": {
        "startLine": 63,
        "startChar": 8,
        "endLine": 63,
        "endChar": 20
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e64cdd42_de12bfb8",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "check for overflow/check that dataSize is within the parcel size",
      "range": {
        "startLine": 69,
        "startChar": 23,
        "endLine": 69,
        "endChar": 47
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38ba43b7_53b5b657",
        "filename": "libs/binder/ParcelableHolder.cpp",
        "patchSetId": 4
      },
      "lineNbr": 69,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e64cdd42_de12bfb8",
      "range": {
        "startLine": 69,
        "startChar": 23,
        "endLine": 69,
        "endChar": 47
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68ac766f_09e8d61e",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "libbinder doesn\u0027t have a libbase dependency, and this would require clients to have a libbase dependency. Could we avoid this?",
      "range": {
        "startLine": 27,
        "startChar": 28,
        "endLine": 27,
        "endChar": 56
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8cb80cbc_f48e932e",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "68ac766f_09e8d61e",
      "range": {
        "startLine": 27,
        "startChar": 28,
        "endLine": 27,
        "endChar": 56
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99ff2200_497a0025",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "can you file a bug to add this to binder_parcel_fuzzer in rvc-dev-plus-aosp?",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 22
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06cf5658_6d96be8c",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-03T04:22:18Z",
      "side": 1,
      "message": "b/167566728",
      "parentUuid": "99ff2200_497a0025",
      "range": {
        "startLine": 40,
        "startChar": 6,
        "endLine": 40,
        "endChar": 22
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a83500b_e4e59cef",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "nit: \u0027\u003d std::nullopt\u0027 \u0027\u003d nullptr\u0027",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 61,
        "endChar": 33
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9acb9f40_6dbdcae1",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a83500b_e4e59cef",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 61,
        "endChar": 33
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6708e126_3c529d2b",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "add T::descriptor? (I think we could avoid parsing __PRETTY_FUNCTION__ here)",
      "range": {
        "startLine": 67,
        "startChar": 12,
        "endLine": 67,
        "endChar": 89
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41fc1a80_84d08c73",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "Did you mean adding descriptor field in Parcelable as well as an interface has had?",
      "parentUuid": "6708e126_3c529d2b",
      "range": {
        "startLine": 67,
        "startChar": 12,
        "endLine": 67,
        "endChar": 89
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9cb5b44e_369cd2c4",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-09-02T16:33:53Z",
      "side": 1,
      "message": "Yeah, and that way we can avoid regex too (it\u0027s quite memory intensive)",
      "parentUuid": "41fc1a80_84d08c73",
      "range": {
        "startLine": 67,
        "startChar": 12,
        "endLine": 67,
        "endChar": 89
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "90f3a287_d62583d7",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-03T04:22:18Z",
      "side": 1,
      "message": "it sounds good to me, but the manual written parcelables requires to fill their descriptor field by hand. i think i\u0027d better do it in the separate following CLs, and how about limiting it in the generated parcelable, and then recommending the manual written parcelable to fill the field if they want to be included in ParcelableHolder?",
      "parentUuid": "9cb5b44e_369cd2c4",
      "range": {
        "startLine": 67,
        "startChar": 12,
        "endLine": 67,
        "endChar": 89
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f52e9ec1_cdb0a24a",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-09-04T00:43:13Z",
      "side": 1,
      "message": "Yep, sgtm. Although, I think it should be done under these CLs, otherwise there is always a risk of callers being added to this API, which would only be more work for you, and there will be more churn (with the method being added and deleted).\n\nI really have spent far too much time removing regex\u0027s from Android for memory/performance. Do you mind the other order?",
      "parentUuid": "90f3a287_d62583d7",
      "range": {
        "startLine": 67,
        "startChar": 12,
        "endLine": 67,
        "endChar": 89
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f74d5c3c_aa732dff",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 146,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-08-31T18:14:05Z",
      "side": 1,
      "message": "nit: could we use \u003c\u003d\u003e to avoid duplication?",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 146,
        "endChar": 5
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0711bf98_7ac48fed",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 146,
      "author": {
        "id": 1386891
      },
      "writtenOn": "2020-09-02T12:27:06Z",
      "side": 1,
      "message": "i hope so. but i ain\u0027t sure that it is okay to force ParcelableHolder users to use c++2a because spaceship operator is introduced in c++20.",
      "parentUuid": "f74d5c3c_aa732dff",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 146,
        "endChar": 5
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1775ade_b3fe9879",
        "filename": "libs/binder/include/binder/ParcelableHolder.h",
        "patchSetId": 4
      },
      "lineNbr": 146,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-09-02T16:33:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0711bf98_7ac48fed",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 146,
        "endChar": 5
      },
      "revId": "c0d77e9cea1011f6d594f2b59cbc1a002922339d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}