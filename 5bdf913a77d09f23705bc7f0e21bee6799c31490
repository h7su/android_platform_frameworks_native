{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1300b74a_62e95713",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2023-10-27T14:51:11Z",
      "side": 1,
      "message": "The problem with this is that it makes [this](https://source.corp.google.com/h/googleplex-android/platform/superproject/main/+/main:frameworks/base/services/core/java/com/android/server/pm/OtaDexoptService.java;l\u003d163;drc\u003d678d5087e114fe4c21f3d9c2417dcfd76ea1cfcd) code in PM confusing.\n\nIiuc it\u0027s not quite correct that it wants the \"verify\" filter, but rather the idea is to query either `pm.dexopt.ab-ota` or `pm.dexopt.first-boot`, depending on importance. That should still happen, so that\u0027s why you can\u0027t change it in `OtaPreoptService.prepare`?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 67
      },
      "revId": "5bdf913a77d09f23705bc7f0e21bee6799c31490",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8133540b_f87129ac",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-10-27T14:56:46Z",
      "side": 1,
      "message": "Changes to `otapreopt.cpp` can take effect in the next OTA update, regardless of how old `OtaPreoptService` is. Yes, this change makes the workflow tricker, but since otapreopt is going to be deprecated, I don\u0027t think maintainability is a concern. The point is to make debugging easier so that we can understand the existing bugs in otapreopt and make sure we don\u0027t carry them to the new implementation.",
      "parentUuid": "1300b74a_62e95713",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 67
      },
      "revId": "5bdf913a77d09f23705bc7f0e21bee6799c31490",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e07b04d_1d681389",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2023-10-27T15:19:05Z",
      "side": 1,
      "message": "I see, yes that\u0027s also a reason to do it here. I\u0027m not terribly concerned that we\u0027re messing up the legacy code either, but it can still be called out a bit better:\n\n- This sentence can be more accurate.\n- Please add a comment in OtaPreoptService.java that this override exists and that the FIRST_BOOT specified there won\u0027t make it into the actual compiler reason. The legacy code is still there after all, and we don\u0027t know for sure that it\u0027ll go away soon.",
      "parentUuid": "8133540b_f87129ac",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 67
      },
      "revId": "5bdf913a77d09f23705bc7f0e21bee6799c31490",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aef248ee_d47834a0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-10-27T15:42:08Z",
      "side": 1,
      "message": "Changed the text here and created aosp/2808153.",
      "parentUuid": "0e07b04d_1d681389",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 67
      },
      "revId": "5bdf913a77d09f23705bc7f0e21bee6799c31490",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}