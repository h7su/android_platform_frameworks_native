{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "280406f2_c1b90c9c",
        "filename": "opengl/libs/EGL/Loader.cpp",
        "patchSetId": 8
      },
      "lineNbr": 421,
      "author": {
        "id": 1267775
      },
      "writtenOn": "2022-01-26T21:23:58Z",
      "side": 1,
      "message": "why do we want this to be defined per OEM?",
      "range": {
        "startLine": 407,
        "startChar": 12,
        "endLine": 421,
        "endChar": 13
      },
      "revId": "e17afc7f1a19b169215f910b8361f35c0f9d39de",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd3c93b9_9737d0ca",
        "filename": "opengl/libs/EGL/Loader.cpp",
        "patchSetId": 8
      },
      "lineNbr": 421,
      "author": {
        "id": 1455782
      },
      "writtenOn": "2022-01-26T21:27:01Z",
      "side": 1,
      "message": "There are discussions in the doc about avoiding hardcoding a specific name; this is my current proposal to avoid that.",
      "parentUuid": "280406f2_c1b90c9c",
      "range": {
        "startLine": 407,
        "startChar": 12,
        "endLine": 421,
        "endChar": 13
      },
      "revId": "e17afc7f1a19b169215f910b8361f35c0f9d39de",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b8edbac_af9ced49",
        "filename": "opengl/libs/EGL/Loader.cpp",
        "patchSetId": 8
      },
      "lineNbr": 421,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2022-01-26T22:10:42Z",
      "side": 1,
      "message": "We possibly want to enforce a namespace of some kind though? Since vendors are the ones implementing \u0026 supplying this apex, it seems they should be force-prefixed with something like \u0027vendor\u0027 to ensure they don\u0027t later conflict with a platform apex",
      "parentUuid": "bd3c93b9_9737d0ca",
      "range": {
        "startLine": 407,
        "startChar": 12,
        "endLine": 421,
        "endChar": 13
      },
      "revId": "e17afc7f1a19b169215f910b8361f35c0f9d39de",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "761182d9_451088db",
        "filename": "opengl/libs/EGL/Loader.cpp",
        "patchSetId": 8
      },
      "lineNbr": 421,
      "author": {
        "id": 1455782
      },
      "writtenOn": "2022-01-26T22:25:32Z",
      "side": 1,
      "message": "I believe ro.hardware.* is already treated as a (legacy?) vendor prefix: https://cs.android.com/android/platform/superproject/+/master:system/sepolicy/private/property_contexts;drc\u003d0f30f3d8ff3860c3e2e0a305c7cb803545386292;l\u003d224\n\nWe could use something like ro.vendor.egl.apex (or ro.vendor.hardware.egl.apex?) if you think those are more clear.",
      "parentUuid": "8b8edbac_af9ced49",
      "range": {
        "startLine": 407,
        "startChar": 12,
        "endLine": 421,
        "endChar": 13
      },
      "revId": "e17afc7f1a19b169215f910b8361f35c0f9d39de",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5011c4f4_3bb46fd0",
        "filename": "opengl/libs/EGL/Loader.cpp",
        "patchSetId": 8
      },
      "lineNbr": 421,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2022-01-26T22:35:46Z",
      "side": 1,
      "message": "no, I meant enforce a similar namespace for the apex name itself. That is, so no OEM tries to claim \"com.android.graphics\" or \"android.graphics\" or anything similarly vague and likely to conflict with the platform graphics team putting their own stuff in an apex module.\n\nOr maybe vendor apex\u0027s should go in their own partition path instead of /apex ?",
      "parentUuid": "761182d9_451088db",
      "range": {
        "startLine": 407,
        "startChar": 12,
        "endLine": 421,
        "endChar": 13
      },
      "revId": "e17afc7f1a19b169215f910b8361f35c0f9d39de",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c4554256_88c8f28a",
        "filename": "opengl/libs/EGL/Loader.cpp",
        "patchSetId": 8
      },
      "lineNbr": 421,
      "author": {
        "id": 1455782
      },
      "writtenOn": "2022-01-26T23:07:28Z",
      "side": 1,
      "message": "Sure, understood now.\n\nI would say this shouldn\u0027t be something that the platform teams need to worry about; if a platform team decides to create a platform APEX and require that APEX on the device in the CDD, then any OEM using the same name would just have to change their APEX name when they update to the new platform.\n\nNote that \"Change their APEX name\" isn\u0027t possible in a singular APEX update, but is straightforward in a full OTA which would be when the new platform APEX appears in the first place anyway.\n\nI think there was no previous need for a separate vendor /apex mount path (factory versions are separate, /system/apex and /vendor/apex, but they\u0027re all mounted/activated at /apex) since the framework under the hood can determine if the APEX is a vendor APEX by checking the APEX\u0027s factory package location.\n\nI personally think it\u0027s a fine idea to just add CDD language that \"com.android.*\" APEXes must come from the platform to prevent this (hopefully rare but otherwise low impact) scenario from happening, so I can follow up on that if you are interested.",
      "parentUuid": "5011c4f4_3bb46fd0",
      "range": {
        "startLine": 407,
        "startChar": 12,
        "endLine": 421,
        "endChar": 13
      },
      "revId": "e17afc7f1a19b169215f910b8361f35c0f9d39de",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}