{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "97e359e7_4d5e523f",
        "filename": "vulkan/libvulkan/swapchain.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1092,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2021-04-09T20:08:17Z",
      "side": 1,
      "message": "instead of a raw perform call consider instead ANativeWindow_setDequeueTimeout(window, -1);",
      "revId": "147b7dad17567c5b733511264fba385e733348bc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc1c4d3f_50c44a80",
        "filename": "vulkan/libvulkan/swapchain.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1092,
      "author": {
        "id": 1339259
      },
      "writtenOn": "2021-04-09T22:00:12Z",
      "side": 1,
      "message": "Using ANativeWindow_setDequeueTimeout feels like secretly hiding the problem.\n\nI\u0027d prefer a deeper fix to reset the dequeue timeout in BufferQueueProducer::disconnect(...). So that we can avoid an unnecessary binder call here.",
      "parentUuid": "97e359e7_4d5e523f",
      "revId": "147b7dad17567c5b733511264fba385e733348bc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49073259_14cf4e76",
        "filename": "vulkan/libvulkan/swapchain.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1092,
      "author": {
        "id": 1084468
      },
      "writtenOn": "2021-04-12T15:16:53Z",
      "side": 1,
      "message": "I\u0027ve filed b/185118790 for follow-up.",
      "parentUuid": "bc1c4d3f_50c44a80",
      "revId": "147b7dad17567c5b733511264fba385e733348bc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2601cd5a_9f5dac99",
        "filename": "vulkan/libvulkan/swapchain.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1092,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2021-04-12T16:09:04Z",
      "side": 1,
      "message": "ANativeWindow_setDequeueTimeout is literally window-\u003eperform(window, NATIVE_WINDOW_SET_DEQUEUE_TIMEOUT, timeout). It\u0027s identical to this, just the stable API entrypoint. I\u0027m not sure how that would be \"hiding the problem\" but this isn\u0027t?\n\nhttps://source.corp.google.com/android/frameworks/native/libs/nativewindow/ANativeWindow.cpp;rcl\u003d324197382dbd77a5263e073a1786da307db64913;l\u003d318",
      "parentUuid": "49073259_14cf4e76",
      "revId": "147b7dad17567c5b733511264fba385e733348bc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e61b4bb_e695b76a",
        "filename": "vulkan/libvulkan/swapchain.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1092,
      "author": {
        "id": 1339259
      },
      "writtenOn": "2021-04-12T16:16:03Z",
      "side": 1,
      "message": "Vulkan swapchain relies system window header, thus it\u0027s preferred to align with all other native window bits in the loader. I personally have a fixed feeling over combining the ndk api with the internal system way of using native window api, although they are identical. Besides, adding an explicit cast help later remind folks of the same(which is as compared to \"hiding the problem\").\n\nI\u0027d encourage folks to do the deeper fix.",
      "parentUuid": "2601cd5a_9f5dac99",
      "revId": "147b7dad17567c5b733511264fba385e733348bc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2ccbb96_aca78260",
        "filename": "vulkan/libvulkan/swapchain.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1092,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2021-04-12T16:18:46Z",
      "side": 1,
      "message": "raw calls to perform are error prone, as this indicates. As such, the fix should be to not use the raw vararg method when there\u0027s a proper alternative. window-\u003eperform is not an API to anyone, it\u0027s an implementation detail.",
      "parentUuid": "0e61b4bb_e695b76a",
      "revId": "147b7dad17567c5b733511264fba385e733348bc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7981cdb8_6fc44a57",
        "filename": "vulkan/libvulkan/swapchain.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1092,
      "author": {
        "id": 1339259
      },
      "writtenOn": "2021-04-12T16:32:38Z",
      "side": 1,
      "message": "afaik, there\u0027re still several private ones not having any ANativeWindow_* correspondence. I\u0027d be happy to see we indeed eventually move \"window-\u003eperform\" to implementation details. Previously I have been fighting hard from a larger scope: http://b/170122824, which I\u0027d also wish folks with strong willings can take on and push to fix(it\u0027s a dependency for us to move \"window-\u003eperform\" away).",
      "parentUuid": "d2ccbb96_aca78260",
      "revId": "147b7dad17567c5b733511264fba385e733348bc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}