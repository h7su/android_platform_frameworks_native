{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "53dc8825_b80b39e5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: Fix the order of applying layer alpha and color matrices in GLESRenderEngine",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 47
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d1ff6fc_fe922574",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: the system",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 9,
        "endChar": 10
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6a11da7_08c3096e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: there is an unexpected result due to applying the layer alpha first.",
      "range": {
        "startLine": 9,
        "startChar": 40,
        "endLine": 10,
        "endChar": 31
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a29c07c7_08ccb7ee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: multiplying by the color matrix",
      "range": {
        "startLine": 12,
        "startChar": 24,
        "endLine": 12,
        "endChar": 49
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "930f0511_d193c552",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: For example, given the following color inversion matrix:",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 15,
        "endChar": 57
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed1b2446_38dc482b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: We want to get a black layer when applying the color transform to a white layer; however,",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 7
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7c071f8_c3e8d9ec",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: applies",
      "range": {
        "startLine": 21,
        "startChar": 24,
        "endLine": 21,
        "endChar": 29
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "160a274d_85642526",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: calculation:",
      "range": {
        "startLine": 22,
        "startChar": 10,
        "endLine": 22,
        "endChar": 22
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ac8d7d9_af8e94d8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: the system",
      "range": {
        "startLine": 23,
        "startChar": 38,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13637626_e5c523e6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: to",
      "range": {
        "startLine": 23,
        "startChar": 67,
        "endLine": 23,
        "endChar": 69
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a5449a3_867d585e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: applies",
      "range": {
        "startLine": 23,
        "startChar": 45,
        "endLine": 23,
        "endChar": 50
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f03505f_55f8cd06",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "nit: apply the color",
      "range": {
        "startLine": 27,
        "startChar": 13,
        "endLine": 27,
        "endChar": 24
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c327c117_2f96fa92",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "can the testing steps be more descriptive? E.g., color inversion when switching pages in the Settings app",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 21
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e82eafb_bb06cb01",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "Content of the commit message is good, just a few grammatical nits.\n\nPlease also add a test in RenderEngineTest as well to verify this behavior, thanks.",
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72367002_26e82733",
        "filename": "libs/renderengine/gl/ProgramCache.cpp",
        "patchSetId": 2
      },
      "lineNbr": 740,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2020-12-03T23:47:44Z",
      "side": 1,
      "message": "It\u0027ll be helpful to add an implementation comment here.\n\nThe HW composer spec explicitly says that the layer plane alpha is applied as a preprocessing step to the source colors [0], whereas the color transform is applied postcomposition [1], which means on face value this goes against the composer spec.\n\nIn the comments we should explain that:\n1. The order doesn\u0027t actually matter here, because applying the color transform requires undoing alpha premultiplication, so it shouldn\u0027t matter where we apply the alpha as long as we undo premultiplication.\n2. Really, what we\u0027re working around is the fact that we can\u0027t undo alpha premultiplication where alpha \u003d 0, because 0 / (0 + 0.0019) \u003d 0 instead of the correct source colors.\n\n[0]: https://android.googlesource.com/platform/hardware/interfaces/+/master/graphics/composer/2.1/IComposerClient.hal#1015\n\n[1]: https://android.googlesource.com/platform/hardware/interfaces/+/master/graphics/composer/2.1/IComposerClient.hal#732",
      "range": {
        "startLine": 740,
        "startChar": 4,
        "endLine": 740,
        "endChar": 31
      },
      "revId": "a3f225dc7e8268473b95a330bfcd11c69f004f34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}