{
  "comments": [
    {
      "key": {
        "uuid": "caeeb3c0_80ed731f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2019-01-17T12:11:53Z",
      "side": 1,
      "message": "Do you also plan to add a deleteAppDataSnapshot or some such, for when we want to expire the rollback?",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 16,
        "endChar": 9
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59d51947_f8cbcaef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Yes, correct. That\u0027s considerably easier to implement and I\u0027ll do it in a followup change.",
      "parentUuid": "caeeb3c0_80ed731f",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 16,
        "endChar": 9
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c2423c4_c2cf4bee",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 773,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2019-01-17T12:11:53Z",
      "side": 1,
      "message": "Did you mean to add more here? If not, maybe add \"...\" to make that clear.",
      "range": {
        "startLine": 773,
        "startChar": 45,
        "endLine": 773,
        "endChar": 50
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de0d9426_07e20db0",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 773,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2019-01-17T12:11:53Z",
      "side": 1,
      "message": "This is not an entirely unexpected case. We make the backup copy before the new version of the app is installed. The backup for the previous version of the app may not have expired yet. If the new version of the app fails to install, we would still like to be able to roll back the previous version of the app for as long as its rollback window continues to be open.\n\nUnless the plan is to not make the backup until after the new version of the app is installed.",
      "range": {
        "startLine": 773,
        "startChar": 21,
        "endLine": 773,
        "endChar": 44
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48a27dc7_3f9bd0a2",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 773,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-17T12:29:24Z",
      "side": 1,
      "message": "but...",
      "range": {
        "startLine": 773,
        "startChar": 47,
        "endLine": 773,
        "endChar": 50
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6505e48_a9c00a69",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 773,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Clarified the comment, Done.",
      "parentUuid": "de0d9426_07e20db0",
      "range": {
        "startLine": 773,
        "startChar": 21,
        "endLine": 773,
        "endChar": 44
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b359dbad_ccc84cd2",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 773,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Reworded, Done.",
      "parentUuid": "9c2423c4_c2cf4bee",
      "range": {
        "startLine": 773,
        "startChar": 45,
        "endLine": 773,
        "endChar": 50
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "924f67be_25112f79",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 773,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "48a27dc7_3f9bd0a2",
      "range": {
        "startLine": 773,
        "startChar": 47,
        "endLine": 773,
        "endChar": 50
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4f9a074_ee8386a0",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 775,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-17T12:29:24Z",
      "side": 1,
      "message": "nit: why not just a regular pointer? Passing a unique_ptr by const ref doesn\u0027t really add anything I think.",
      "range": {
        "startLine": 775,
        "startChar": 8,
        "endLine": 775,
        "endChar": 43
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b30786ab_78661c68",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 775,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "This is autogenerated by aidl-gen so i don\u0027t have a say in the matter.",
      "parentUuid": "f4f9a074_ee8386a0",
      "range": {
        "startLine": 775,
        "startChar": 8,
        "endLine": 775,
        "endChar": 43
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19bf7d7e_01ce33db",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 775,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-18T07:45:49Z",
      "side": 1,
      "message": "Fascinating...",
      "parentUuid": "b30786ab_78661c68",
      "range": {
        "startLine": 775,
        "startChar": 8,
        "endLine": 775,
        "endChar": 43
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c265e1a_c1cf1062",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 788,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-17T12:29:24Z",
      "side": 1,
      "message": "nit: test for this case missing.",
      "range": {
        "startLine": 787,
        "startChar": 4,
        "endLine": 788,
        "endChar": 85
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a497ded_1ff53394",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 788,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4c265e1a_c1cf1062",
      "range": {
        "startLine": 787,
        "startChar": 4,
        "endLine": 788,
        "endChar": 85
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57a68d82_7ce0dd1c",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 801,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-17T12:29:24Z",
      "side": 1,
      "message": "can both flags be set at the same time, or are they mutually exclusive? If both can be set, you need separate goto points, to avoid deleting a dir you didn\u0027t create (and printing a warning). If they are exclusive, would help to point that out in the docs and verify it here.",
      "range": {
        "startLine": 801,
        "startChar": 12,
        "endLine": 801,
        "endChar": 22
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f0abf7a_541f2283",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 801,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Both flags can be set at the same time. Code amended.",
      "parentUuid": "57a68d82_7ce0dd1c",
      "range": {
        "startLine": 801,
        "startChar": 12,
        "endLine": 801,
        "endChar": 22
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "faa8a971_e417545e",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 817,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2019-01-17T12:11:53Z",
      "side": 1,
      "message": "DE? You use the misc_de_rollback function here.",
      "range": {
        "startLine": 817,
        "startChar": 36,
        "endLine": 817,
        "endChar": 38
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79a03ab5_5edae332",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 817,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "faa8a971_e417545e",
      "range": {
        "startLine": 817,
        "startChar": 36,
        "endLine": 817,
        "endChar": 38
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "18c5d791_1192a389",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 823,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2019-01-17T12:11:53Z",
      "side": 1,
      "message": "CE?",
      "range": {
        "startLine": 823,
        "startChar": 36,
        "endLine": 823,
        "endChar": 38
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1050f688_7e3ea968",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 823,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "18c5d791_1192a389",
      "range": {
        "startLine": 823,
        "startChar": 36,
        "endLine": 823,
        "endChar": 38
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8a748602_77d864bf",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 861,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2019-01-17T12:11:53Z",
      "side": 1,
      "message": "but that... ?",
      "range": {
        "startLine": 861,
        "startChar": 24,
        "endLine": 861,
        "endChar": 41
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2752a2fd_e6089c7e",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 861,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-17T12:29:24Z",
      "side": 1,
      "message": "but that...",
      "range": {
        "startLine": 861,
        "startChar": 33,
        "endLine": 861,
        "endChar": 41
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2daf833_ecd56c74",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 861,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a748602_77d864bf",
      "range": {
        "startLine": 861,
        "startChar": 24,
        "endLine": 861,
        "endChar": 41
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6534dc71_09bb1440",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 861,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2752a2fd_e6089c7e",
      "range": {
        "startLine": 861,
        "startChar": 33,
        "endLine": 861,
        "endChar": 41
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "582df1fa_2ddc7274",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 869,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-17T12:29:24Z",
      "side": 1,
      "message": "same Q as above.",
      "range": {
        "startLine": 869,
        "startChar": 12,
        "endLine": 869,
        "endChar": 22
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7cb4b50b_0643c099",
        "filename": "cmds/installd/InstalldNativeService.cpp",
        "patchSetId": 1
      },
      "lineNbr": 869,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Done. For this method, I removed the failure handling. Thinking about it a little more, I think it\u0027s better to explicitly handle the expiry of the snapshot at a higher level (via the RPC to expire the rollback if reqd). This would allow us to retry restores if something goes wrong.",
      "parentUuid": "582df1fa_2ddc7274",
      "range": {
        "startLine": 869,
        "startChar": 12,
        "endLine": 869,
        "endChar": 22
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2ecaf16_7ae5aa1f",
        "filename": "cmds/installd/tests/installd_service_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2019-01-17T12:11:53Z",
      "side": 1,
      "message": "both",
      "range": {
        "startLine": 311,
        "startChar": 20,
        "endLine": 311,
        "endChar": 23
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46f85246_4098a647",
        "filename": "cmds/installd/tests/installd_service_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-17T17:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a2ecaf16_7ae5aa1f",
      "range": {
        "startLine": 311,
        "startChar": 20,
        "endLine": 311,
        "endChar": 23
      },
      "revId": "447a2134e0c68cc5d46f8af3b9c370e36cfcafcf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}