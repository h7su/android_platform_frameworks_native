{
  "comments": [
    {
      "key": {
        "uuid": "283d3fb5_0b0b66f8",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 3
      },
      "lineNbr": 1785,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2018-01-18T21:06:19Z",
      "side": 1,
      "message": "didn\u0027t this fail because of DEXOPT_MASK?",
      "range": {
        "startLine": 1785,
        "startChar": 4,
        "endLine": 1785,
        "endChar": 45
      },
      "revId": "5c52d7b5e7a7063e2caeeb30c17864bf60c71e17",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ba78530_d5da8fa3",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 3
      },
      "lineNbr": 1785,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2018-01-18T22:01:25Z",
      "side": 1,
      "message": "That is peculiar. I have a phone that boots and dexopts with this CL. You are absolutely correct and I will investigate tomorrow.\n\nThat said, TreeHugger really is failing because of a conflict during merging:\nCONFLICT: Your changes failed to cherry-pick against build 4552340 (could not apply 2a5b261... Set DEXOPT_DISABLE_HIDDEN_API_CHECKS for system apps).",
      "parentUuid": "283d3fb5_0b0b66f8",
      "range": {
        "startLine": 1785,
        "startChar": 4,
        "endLine": 1785,
        "endChar": 45
      },
      "revId": "5c52d7b5e7a7063e2caeeb30c17864bf60c71e17",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bd5057a_6da7f2cb",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 3
      },
      "lineNbr": 1785,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2018-01-19T11:35:00Z",
      "side": 1,
      "message": "Okay, the reason is that LOG_FATAL is defined as:\n\n  #if LOG_NDEBUG\n  #define LOG_FATAL(...) ((void)0)\n  #else\n  #define LOG_FATAL(...) LOG_ALWAYS_FATAL(__VA_ARGS__)\n  #endif\n\nand my userdebug build builds this with -DNDEBUG. I don\u0027t want to spend too much time digging into this. I presume this only kicks in for eng build - is that the intent? Or should this be changed to LOG_ALWAYS_FATAL?",
      "parentUuid": "6ba78530_d5da8fa3",
      "range": {
        "startLine": 1785,
        "startChar": 4,
        "endLine": 1785,
        "endChar": 45
      },
      "revId": "5c52d7b5e7a7063e2caeeb30c17864bf60c71e17",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0958a00f_897b6f8a",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 3
      },
      "lineNbr": 1785,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2018-01-19T19:04:00Z",
      "side": 1,
      "message": "Just to confirm: is it only your userdebug build with -DNDEBUG or all userdebug builds?",
      "parentUuid": "7bd5057a_6da7f2cb",
      "range": {
        "startLine": 1785,
        "startChar": 4,
        "endLine": 1785,
        "endChar": 45
      },
      "revId": "5c52d7b5e7a7063e2caeeb30c17864bf60c71e17",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "160c5159_715d3b3a",
        "filename": "cmds/installd/dexopt.cpp",
        "patchSetId": 3
      },
      "lineNbr": 1785,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2018-01-19T19:25:32Z",
      "side": 1,
      "message": "No no no, this is aosp_marlin-userdebug without any modifications.",
      "parentUuid": "0958a00f_897b6f8a",
      "range": {
        "startLine": 1785,
        "startChar": 4,
        "endLine": 1785,
        "endChar": 45
      },
      "revId": "5c52d7b5e7a7063e2caeeb30c17864bf60c71e17",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51d8fbc2_9faf1646",
        "filename": "cmds/installd/installd_constants.h",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2018-01-18T21:06:19Z",
      "side": 1,
      "message": "you need to add it to this mask as well",
      "range": {
        "startLine": 58,
        "startChar": 14,
        "endLine": 58,
        "endChar": 25
      },
      "revId": "5c52d7b5e7a7063e2caeeb30c17864bf60c71e17",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}