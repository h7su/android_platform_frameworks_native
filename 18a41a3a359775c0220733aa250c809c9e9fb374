{
  "comments": [
    {
      "key": {
        "uuid": "4d5d907a_afade581",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2018-10-30T23:23:58Z",
      "side": 1,
      "message": "document that this doesn\u0027t take ownership of the fd",
      "range": {
        "startLine": 166,
        "startChar": 3,
        "endLine": 166,
        "endChar": 69
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b34d45a9_1cd53af2",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 166,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2018-10-31T00:43:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4d5d907a_afade581",
      "range": {
        "startLine": 166,
        "startChar": 3,
        "endLine": 166,
        "endChar": 69
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63e52e2c_7e7b6bff",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 168,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2018-10-30T23:23:58Z",
      "side": 1,
      "message": "clarify this is compatible with the Java ParcelFileDescriptor.",
      "range": {
        "startLine": 168,
        "startChar": 3,
        "endLine": 168,
        "endChar": 32
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58176ff3_40af34a5",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 168,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2018-10-31T00:43:18Z",
      "side": 1,
      "message": "This was meant to refer to that. Updated to use the namespace and call it out in the SDK.",
      "parentUuid": "63e52e2c_7e7b6bff",
      "range": {
        "startLine": 168,
        "startChar": 3,
        "endLine": 168,
        "endChar": 32
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71ecb81d_7d917013",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-10-30T03:00:44Z",
      "side": 1,
      "message": "This is fd, not ParcelFileDescriptor. I expected we would have something like AParcelFileDescriptor*.",
      "range": {
        "startLine": 170,
        "startChar": 71,
        "endLine": 170,
        "endChar": 73
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a862ec0d_3de054b7",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2018-10-30T16:21:42Z",
      "side": 1,
      "message": "Ah, I missed the first part of b/115607973#comment11 (which we would need AParcelFileDescriptor* to support).\n\nSo, then we will also need:\nAParcelFileDescriptor_create\nAParcelFileDescriptor_delete\nAParcelFileDescriptor_setFileDescriptor\nAParcelFileDescriptor_getFileDescriptor\nAParcelFileDescriptor_releaseFileDescriptor\n\nIs this what you want?",
      "parentUuid": "71ecb81d_7d917013",
      "range": {
        "startLine": 170,
        "startChar": 71,
        "endLine": 170,
        "endChar": 73
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f0bb54f7_2d79ef0e",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2018-10-30T23:11:04Z",
      "side": 1,
      "message": "do we need an AParcelFileDescriptor? Why?",
      "parentUuid": "a862ec0d_3de054b7",
      "range": {
        "startLine": 170,
        "startChar": 71,
        "endLine": 170,
        "endChar": 73
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47b35d54_5500c6f3",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2018-10-31T00:43:18Z",
      "side": 1,
      "message": "It is if we want to ever support mCommFd (b/115607973#comment9). Although, we could also add a new API in that case (as it stands, we could add new APIs that read/write both fds, but in Jiyong\u0027s world, we would add other APIs to get/set the fds). Jiyong?",
      "parentUuid": "f0bb54f7_2d79ef0e",
      "range": {
        "startLine": 170,
        "startChar": 71,
        "endLine": 170,
        "endChar": 73
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4114e64_48752939",
        "filename": "libs/binder/ndk/include_ndk/android/binder_parcel.h",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-10-31T07:43:21Z",
      "side": 1,
      "message": "\u003e Is this what you want?\nYes, and it is partially because of mCommFd. But more importantly, ParcelFileDescriptor and FileDescriptor are distinct concepts in Android API. The former is a parcelable while the latter isn\u0027t. It is also possible to wrap a ParcelFileDescriptor inside a ParcelFileDescriptor. The former is auto-closeable while the latter isn\u0027t.\n\n\u003e Although, we could also add a new API in that case\nYes, but then I think these functions should be named as [read|write]FileDescriptor",
      "parentUuid": "47b35d54_5500c6f3",
      "range": {
        "startLine": 170,
        "startChar": 71,
        "endLine": 170,
        "endChar": 73
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "098b9620_f1ea810f",
        "filename": "libs/binder/ndk/parcel.cpp",
        "patchSetId": 3
      },
      "lineNbr": 234,
      "author": {
        "id": 1010103
      },
      "writtenOn": "2018-10-30T23:23:58Z",
      "side": 1,
      "message": "this could all be simplified by just doing parcel-\u003eget()-\u003ewriteDupParcelFileDescriptor(fd);\n\nWhich then means no weird games need to be played with unique_fd\n\nSame with the below readParcelFileDescriptor()",
      "range": {
        "startLine": 227,
        "startChar": 0,
        "endLine": 234,
        "endChar": 32
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dac72a4a_61a6ce3b",
        "filename": "libs/binder/ndk/parcel.cpp",
        "patchSetId": 3
      },
      "lineNbr": 234,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2018-10-31T00:43:18Z",
      "side": 1,
      "message": "That doesn\u0027t work unless I also read/write a 1/0 like read/writeParcelable does (you can see I was doing this incorrectly in old patchsets). Doing that also will require weird games with unique_fd (or creating another API in addition to readUniqueParcelFileDescriptor).",
      "parentUuid": "098b9620_f1ea810f",
      "range": {
        "startLine": 227,
        "startChar": 0,
        "endLine": 234,
        "endChar": 32
      },
      "revId": "18a41a3a359775c0220733aa250c809c9e9fb374",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}