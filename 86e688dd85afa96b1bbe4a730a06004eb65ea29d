{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e67d2989_2f1b712d",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 22,
      "author": {
        "id": 1019036
      },
      "writtenOn": "2021-08-10T21:17:55Z",
      "side": 1,
      "message": "You don\u0027t appear to use any RAND_ functions. There is BN_rand_range, but that\u0027s from bn.h: https://commondatastorage.googleapis.com/chromium-boringssl-docs/bn.h.html#BN_rand_range",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "89b886cd_5ecddbd5",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 22,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-08-10T22:37:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e67d2989_2f1b712d",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2c3caf5a_27e70c1e",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 144,
      "author": {
        "id": 1019036
      },
      "writtenOn": "2021-08-10T21:17:55Z",
      "side": 1,
      "message": "ERR_print_errors_cb consumes the error queue so clearing here isn\u0027t needed, although you do need to set |mHandled| so might choose to do this anyway.",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "daf936a5_2b228d6f",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 144,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-08-10T22:37:48Z",
      "side": 1,
      "message": "Indeed, that\u0027s why I have the comment above",
      "parentUuid": "2c3caf5a_27e70c1e",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3abed65f_25869997",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 172,
      "author": {
        "id": 1019036
      },
      "writtenOn": "2021-08-10T21:17:55Z",
      "side": 1,
      "message": "Your call, and follow local style, but there\u0027s a multi-line conditional body here without braces.",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e71880c_4abd967d",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 172,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-08-10T22:37:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3abed65f_25869997",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77e728d9_9ceeefad",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 286,
      "author": {
        "id": 1019036
      },
      "writtenOn": "2021-08-10T21:17:55Z",
      "side": 1,
      "message": "https://bugs.chromium.org/p/boringssl/issues/detail?id\u003d24 actually says that SSL_write _should_ never return zero. But David knows the current state of this.",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d047cff_3cf2603b",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 286,
      "author": {
        "id": 1031048
      },
      "writtenOn": "2021-08-11T22:03:37Z",
      "side": 1,
      "message": "Apparently we do return zero, though it\u0027s a bug and doesn\u0027t affect you. :-)\nhttps://boringssl-review.googlesource.com/c/boringssl/+/48845\n\nUnder the hood, SSL_write can return zero if BIO_write returns zero. It shouldn\u0027t, but we don\u0027t currently prevent this. (But the BIOs you\u0027re using shouldn\u0027t be returning zero.)\n\nBut the reason BIO_write shouldn\u0027t return zero is also the same as why this case doesn\u0027t make much sense: what does it mean for writing to get an EOF? An EOF is normally a non-error end of stream condition for reading. Additionally, SSL_get_error(0) works just fine. So I think you can delete this block. You won\u0027t get zero and, if you do, it\u0027ll still report an error.",
      "parentUuid": "77e728d9_9ceeefad",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f72e810_fa9a9035",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 286,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-08-12T06:14:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8d047cff_3cf2603b",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f415759_93eec37e",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 347,
      "author": {
        "id": 1019036
      },
      "writtenOn": "2021-08-10T21:17:55Z",
      "side": 1,
      "message": "Less sure about this one, but again David knows the current state better than I.",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02952f9f_56388e36",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 347,
      "author": {
        "id": 1031048
      },
      "writtenOn": "2021-08-11T22:03:37Z",
      "side": 1,
      "message": "I believe we\u0027ll currently return 0 if we get a close_notify during the handshake, BIO_read reports an EOF, or if BIO_write returns zero (but it really shouldn\u0027t...). Honestly, we probably should map it all to 0 or -1, since an EOF in the handshake isn\u0027t really a success condition.\n\nAnyway, this is similar to SSL_read and SSL_write: this should be fine, but if you delete this block, it\u0027ll also be fine. It\u0027s all error cases anyway. And in this case, it just changes logging anyway. Meh.",
      "parentUuid": "8f415759_93eec37e",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "adfeb5d0_2985343c",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 347,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-08-12T05:01:46Z",
      "side": 1,
      "message": "Ack, thanks for the note! I\u0027ll leave it there",
      "parentUuid": "02952f9f_56388e36",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f5424513_dc957407",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 377,
      "author": {
        "id": 1019036
      },
      "writtenOn": "2021-08-10T21:17:55Z",
      "side": 1,
      "message": "You\u0027re always configuring a cert and private key, so you want the client to do client authentication when the server requests it?",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2fa6648a_3bc17327",
        "filename": "libs/binder/RpcTransportTls.cpp",
        "patchSetId": 38
      },
      "lineNbr": 377,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-08-10T22:37:48Z",
      "side": 1,
      "message": "I think the answer is yes, though authentication has not been properly decided yet. b/195166979 tracks this.\n\nFor one feature (host-device communication) we always use a freshly generated keypair / cert. For other features we might need both sides to agree on a root cert first.\n\nThough, the design for authentication is not finalized yet, so I\u0027ll leave this unanswered.",
      "parentUuid": "f5424513_dc957407",
      "revId": "86e688dd85afa96b1bbe4a730a06004eb65ea29d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}