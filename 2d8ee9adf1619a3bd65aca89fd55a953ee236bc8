{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7a1fc99e_bada7190",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1569496
      },
      "writtenOn": "2023-06-28T22:23:01Z",
      "side": 1,
      "message": "Friendly ping @smoreland@google.com and @ahomescu@google.com",
      "revId": "2d8ee9adf1619a3bd65aca89fd55a953ee236bc8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edb140a4_4b4d900e",
        "filename": "libs/binder/trusty/include_mock/trusty_log.h",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1809582
      },
      "writtenOn": "2023-06-21T20:44:19Z",
      "side": 1,
      "message": "Not against doing this per se, just wanted to point out again: the mock tests are not meant to be run, just compiled on Android. You don\u0027t need to build or run anything that uses the mock headers.",
      "revId": "2d8ee9adf1619a3bd65aca89fd55a953ee236bc8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c05c278_b36d241b",
        "filename": "libs/binder/trusty/include_mock/trusty_log.h",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2023-06-21T21:01:26Z",
      "side": 1,
      "message": "With PS6 of https://r.android.com/c/2616201/6 they should not be built on Linux indeed. But I would still print these logs to stderr.",
      "parentUuid": "edb140a4_4b4d900e",
      "revId": "2d8ee9adf1619a3bd65aca89fd55a953ee236bc8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "083ab3ea_b37ecaa6",
        "filename": "libs/binder/trusty/include_mock/trusty_log.h",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1569496
      },
      "writtenOn": "2023-06-27T19:14:59Z",
      "side": 1,
      "message": "@Tomasz We are using Trusty code here https://android-review.git.corp.google.com/c/platform/frameworks/native/+/2616196. So it is still needed.",
      "parentUuid": "6c05c278_b36d241b",
      "revId": "2d8ee9adf1619a3bd65aca89fd55a953ee236bc8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a89e7224_6adfc4d4",
        "filename": "libs/binder/trusty/include_mock/trusty_log.h",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1809582
      },
      "writtenOn": "2023-06-28T22:26:54Z",
      "side": 1,
      "message": "Are you still using this header specifically? I still think there\u0027s a mistake somewhere else if you are.",
      "parentUuid": "083ab3ea_b37ecaa6",
      "revId": "2d8ee9adf1619a3bd65aca89fd55a953ee236bc8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6fe7e088_ffbcc35c",
        "filename": "libs/binder/trusty/include_mock/trusty_log.h",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1809582
      },
      "writtenOn": "2023-06-28T22:37:47Z",
      "side": 1,
      "message": "OK I think I realized what you\u0027re using the mock header for.\n\nI left a comment on that other CL. What I would recommend is copying (or moving) `trusty/logging.cpp` out of `libs/binder/trusty` and removing all Trusty-specific code from your copy. If you want to print to `stderr`, the copy can do that.\n\nAlternatively, you could move that file out of `libs/binder/trusty` and refactor it to be generic enough for both operating systems. Concretely, the macros here would need to be aliased, e.g.\n```\n#ifdef __TRUSTY__\n#define LOGGER_LOGI(fmt, ...) TLOGI(fmt, ##__VA_ARGS__)\n...\n#else\n#define LOGGER_LOGI(fmt, ...) fprintf(stderr, fmt, ##__VA_ARGS__)\n...\n#endif\n```",
      "parentUuid": "a89e7224_6adfc4d4",
      "revId": "2d8ee9adf1619a3bd65aca89fd55a953ee236bc8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}