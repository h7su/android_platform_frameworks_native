{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b8552f87_73974240",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-08-05T20:39:43Z",
      "side": 1,
      "message": "Just realized I need to add tests",
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "63ef4aa0_00cbf4af",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-05T20:46:51Z",
      "side": 1,
      "message": "(oh well sorry I commented this as well :)",
      "parentUuid": "b8552f87_73974240",
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf69edc0_849cb629",
        "filename": "cmds/dumpsys/dumpsys.cpp",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-05T20:46:51Z",
      "side": 1,
      "message": "nit: why is the order here different?",
      "range": {
        "startLine": 68,
        "startChar": 13,
        "endLine": 68,
        "endChar": 24
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "656e3445_9b80523b",
        "filename": "cmds/dumpsys/dumpsys.cpp",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-08-05T22:49:53Z",
      "side": 1,
      "message": "No good reason. Moved it before dump.",
      "parentUuid": "cf69edc0_849cb629",
      "range": {
        "startLine": 68,
        "startChar": 13,
        "endLine": 68,
        "endChar": 24
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b2c8286_2aaed15b",
        "filename": "cmds/dumpsys/dumpsys.cpp",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-05T20:46:51Z",
      "side": 1,
      "message": "info",
      "range": {
        "startLine": 440,
        "startChar": 63,
        "endLine": 440,
        "endChar": 68
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2dde9660_72a75339",
        "filename": "cmds/dumpsys/dumpsys.cpp",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-08-05T22:49:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0b2c8286_2aaed15b",
      "range": {
        "startLine": 440,
        "startChar": 63,
        "endLine": 440,
        "endChar": 68
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "55eeb7d3_4e76874d",
        "filename": "cmds/dumpsys/tests/dumpsys_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 564,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-05T20:46:51Z",
      "side": 1,
      "message": "can you add a couple of cases for this?",
      "range": {
        "startLine": 564,
        "startChar": 0,
        "endLine": 564,
        "endChar": 24
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69a11602_167356bf",
        "filename": "cmds/dumpsys/tests/dumpsys_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 564,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-08-05T22:49:53Z",
      "side": 1,
      "message": "I started to, but it looks like service-\u003eRemoteBinder() is null so we won\u0027t print anything at all.\nDo you think we should still print \"Client PIDs: \" so the test will do something?",
      "parentUuid": "55eeb7d3_4e76874d",
      "range": {
        "startLine": 564,
        "startChar": 0,
        "endLine": 564,
        "endChar": 24
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "607706bb_c9a72062",
        "filename": "cmds/dumpsys/tests/dumpsys_test.cpp",
        "patchSetId": 1
      },
      "lineNbr": 564,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-05T23:08:38Z",
      "side": 1,
      "message": "I see. For a local binder, we could look up clients based on the cookie, but we don\u0027t really need that functionality since dumpsys itself doesn\u0027t register anything.\n\nI would print something at least like \u0027Doesn\u0027t support finding clients for local binder\u0027 or similar.",
      "parentUuid": "69a11602_167356bf",
      "range": {
        "startLine": 564,
        "startChar": 0,
        "endLine": 564,
        "endChar": 24
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "012bdeca_d8beabfb",
        "filename": "libs/binderdebug/BinderDebug.cpp",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-05T20:46:51Z",
      "side": 1,
      "message": "How long does it take to dump the clients on every service on the device? This is a big file to read for every service. Could we be reading per-process files? Or only read it once? Probably it\u0027s okay, but I\u0027m curious",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 82,
        "endChar": 1
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d64593f_deb04641",
        "filename": "libs/binderdebug/BinderDebug.cpp",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2021-08-05T22:49:53Z",
      "side": 1,
      "message": "Yes we can with a call to the service to get its PID which I was trying to avoid.\nBUT, that shaves off tons of time on a Cuttlefish on my Cloudtop.\nIt goes from 18 seconds to 9 seconds(on par with `--thread`).\n\n`time adb shell dumpsys --pid` is only .25 seconds. That doesn\u0027t touch any of the files.\nI could test on a physical device to see what the difference is, but it looks like the extra file operations will dwarf the IPC.",
      "parentUuid": "012bdeca_d8beabfb",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 82,
        "endChar": 1
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79e5cf91_24822b2e",
        "filename": "libs/binderdebug/BinderDebug.cpp",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-05T23:08:38Z",
      "side": 1,
      "message": "wait, this takes 9 seconds to run? That is too long. I assume all the time is reading this file multiple times? Pretty long for \u0027--thread\u0027 as well. I\u0027d be pretty tempted to restructure the loop that loops over all the services and get all of them at the same time, and then only read this file once.",
      "parentUuid": "7d64593f_deb04641",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 82,
        "endChar": 1
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d125d19_487e196c",
        "filename": "libs/binderdebug/BinderDebug.cpp",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-08-05T23:09:19Z",
      "side": 1,
      "message": "(separately would be okay of course, plus usually people would be wanting to only check one service, but if we ever want to add this to a bugreport, it needs to be faster)",
      "parentUuid": "79e5cf91_24822b2e",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 82,
        "endChar": 1
      },
      "revId": "9e716aef79a899b6d131f8b0d5e7142465b98cee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}